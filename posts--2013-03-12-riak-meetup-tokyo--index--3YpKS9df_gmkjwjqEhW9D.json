{"data":{"title":"riak meetup tokyoに参加してきました","date":"2013-03-12T00:00:00.000Z","permalink":"/entry/2013/03/02/riak-meetoup-tokyo/","categories":["erlang"],"_entry":"posts/2013-03-12-riak-meetup-tokyo/index.md","page":"post","name":"index","category":"2013-03-12-riak-meetup-tokyo","url":"/entry/2013/03/02/riak-meetoup-tokyo/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Riak intro & RICON報告","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":23,"offset":22}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":23,"offset":22}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"@kuenishi","position":{"start":{"line":3,"column":1,"offset":24},"end":{"line":3,"column":10,"offset":33}}}],"position":{"start":{"line":3,"column":1,"offset":24},"end":{"line":3,"column":10,"offset":33}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"分散システムの研究や開発は5年ぐらい\n日本法人が9月に出来た。","position":{"start":{"line":5,"column":1,"offset":35},"end":{"line":6,"column":13,"offset":66}}}],"position":{"start":{"line":5,"column":1,"offset":35},"end":{"line":6,"column":13,"offset":66}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Riakの紹介","position":{"start":{"line":8,"column":4,"offset":71},"end":{"line":8,"column":11,"offset":78}}}],"position":{"start":{"line":8,"column":1,"offset":68},"end":{"line":8,"column":11,"offset":78}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Dynamoにインスパイアされた","position":{"start":{"line":10,"column":3,"offset":82},"end":{"line":10,"column":19,"offset":98}}}],"position":{"start":{"line":10,"column":1,"offset":80},"end":{"line":10,"column":19,"offset":98}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Consistent Hassingによる水平分割する","position":{"start":{"line":11,"column":3,"offset":101},"end":{"line":11,"column":30,"offset":128}}}],"position":{"start":{"line":11,"column":1,"offset":99},"end":{"line":11,"column":30,"offset":128}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Vector Clocksを用いてレプリケーション","position":{"start":{"line":12,"column":3,"offset":131},"end":{"line":12,"column":28,"offset":156}}}],"position":{"start":{"line":12,"column":1,"offset":129},"end":{"line":12,"column":28,"offset":156}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Erlang/OTPで動作","position":{"start":{"line":13,"column":3,"offset":159},"end":{"line":13,"column":16,"offset":172}}}],"position":{"start":{"line":13,"column":1,"offset":157},"end":{"line":13,"column":16,"offset":172}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"分散KVS","position":{"start":{"line":14,"column":3,"offset":175},"end":{"line":14,"column":8,"offset":180}}}],"position":{"start":{"line":14,"column":1,"offset":173},"end":{"line":15,"column":1,"offset":181}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"HTTP / Protocol Buffers","position":{"start":{"line":16,"column":3,"offset":184},"end":{"line":16,"column":26,"offset":207}}}],"position":{"start":{"line":16,"column":1,"offset":182},"end":{"line":16,"column":26,"offset":207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Secondary Index/ MapReduce","position":{"start":{"line":17,"column":3,"offset":210},"end":{"line":17,"column":29,"offset":236}}}],"position":{"start":{"line":17,"column":1,"offset":208},"end":{"line":17,"column":29,"offset":236}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Link Walking","position":{"start":{"line":18,"column":3,"offset":239},"end":{"line":18,"column":15,"offset":251}}}],"position":{"start":{"line":18,"column":1,"offset":237},"end":{"line":18,"column":15,"offset":251}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Consistent Hassing and Replicas / Vecteor Clocks","position":{"start":{"line":19,"column":3,"offset":254},"end":{"line":19,"column":51,"offset":302}}}],"position":{"start":{"line":19,"column":1,"offset":252},"end":{"line":19,"column":51,"offset":302}}},{"type":"text","value":"\n"}],"position":{"start":{"line":10,"column":1,"offset":80},"end":{"line":19,"column":51,"offset":302}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"分散システム、ざっくり。","position":{"start":{"line":21,"column":1,"offset":304},"end":{"line":21,"column":13,"offset":316}}}],"position":{"start":{"line":21,"column":1,"offset":304},"end":{"line":21,"column":13,"offset":316}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Graph","position":{"start":{"line":23,"column":3,"offset":320},"end":{"line":23,"column":8,"offset":325}}}],"position":{"start":{"line":23,"column":1,"offset":318},"end":{"line":23,"column":8,"offset":325}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SQL","position":{"start":{"line":24,"column":3,"offset":328},"end":{"line":24,"column":6,"offset":331}}}],"position":{"start":{"line":24,"column":1,"offset":326},"end":{"line":24,"column":6,"offset":331}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Document","position":{"start":{"line":25,"column":3,"offset":334},"end":{"line":25,"column":11,"offset":342}}}],"position":{"start":{"line":25,"column":1,"offset":332},"end":{"line":25,"column":11,"offset":342}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Scale out","position":{"start":{"line":26,"column":3,"offset":345},"end":{"line":26,"column":12,"offset":354}}}],"position":{"start":{"line":26,"column":1,"offset":343},"end":{"line":26,"column":12,"offset":354}}},{"type":"text","value":"\n"}],"position":{"start":{"line":23,"column":1,"offset":318},"end":{"line":26,"column":12,"offset":354}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"RICONについて","position":{"start":{"line":28,"column":4,"offset":359},"end":{"line":28,"column":13,"offset":368}}}],"position":{"start":{"line":28,"column":1,"offset":356},"end":{"line":28,"column":13,"offset":368}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"分散システム、分散DBのカンファレンス","position":{"start":{"line":30,"column":3,"offset":372},"end":{"line":30,"column":22,"offset":391}}}],"position":{"start":{"line":30,"column":1,"offset":370},"end":{"line":30,"column":22,"offset":391}}},{"type":"text","value":"\n"}],"position":{"start":{"line":30,"column":1,"offset":370},"end":{"line":30,"column":22,"offset":391}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"事例","position":{"start":{"line":32,"column":5,"offset":397},"end":{"line":32,"column":7,"offset":399}}}],"position":{"start":{"line":32,"column":1,"offset":393},"end":{"line":32,"column":7,"offset":399}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Redis側でロックして、裏側はRiakで構築","position":{"start":{"line":34,"column":3,"offset":403},"end":{"line":34,"column":26,"offset":426}}}],"position":{"start":{"line":34,"column":3,"offset":403},"end":{"line":34,"column":26,"offset":426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"壊れても大丈夫なようにするのが鉄板のパターン","position":{"start":{"line":35,"column":5,"offset":431},"end":{"line":35,"column":27,"offset":453}}}],"position":{"start":{"line":35,"column":3,"offset":429},"end":{"line":35,"column":27,"offset":453}}},{"type":"text","value":"\n"}],"position":{"start":{"line":35,"column":3,"offset":429},"end":{"line":35,"column":27,"offset":453}}},{"type":"text","value":"\n"}],"position":{"start":{"line":34,"column":1,"offset":401},"end":{"line":35,"column":27,"offset":453}}},{"type":"text","value":"\n"}],"position":{"start":{"line":34,"column":1,"offset":401},"end":{"line":35,"column":27,"offset":453}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"面白かった話","position":{"start":{"line":37,"column":4,"offset":458},"end":{"line":37,"column":10,"offset":464}}}],"position":{"start":{"line":37,"column":1,"offset":455},"end":{"line":37,"column":10,"offset":464}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Rak Pipe","position":{"start":{"line":39,"column":3,"offset":468},"end":{"line":39,"column":11,"offset":476}}}],"position":{"start":{"line":39,"column":1,"offset":466},"end":{"line":39,"column":11,"offset":476}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Introduction Yokozuna","position":{"start":{"line":40,"column":3,"offset":479},"end":{"line":40,"column":24,"offset":500}}}],"position":{"start":{"line":40,"column":1,"offset":477},"end":{"line":40,"column":24,"offset":500}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Building Riak CS on Riak","position":{"start":{"line":41,"column":3,"offset":503},"end":{"line":41,"column":27,"offset":527}}}],"position":{"start":{"line":41,"column":1,"offset":501},"end":{"line":41,"column":27,"offset":527}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Cloning the Cloud","position":{"start":{"line":42,"column":3,"offset":530},"end":{"line":42,"column":20,"offset":547}}}],"position":{"start":{"line":42,"column":1,"offset":528},"end":{"line":42,"column":20,"offset":547}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Bringing Consistency on Riak","position":{"start":{"line":43,"column":3,"offset":550},"end":{"line":43,"column":31,"offset":578}}}],"position":{"start":{"line":43,"column":1,"offset":548},"end":{"line":43,"column":31,"offset":578}}},{"type":"text","value":"\n"}],"position":{"start":{"line":39,"column":1,"offset":466},"end":{"line":43,"column":31,"offset":578}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Riak with Engine yard","position":{"start":{"line":45,"column":4,"offset":583},"end":{"line":45,"column":25,"offset":604}}}],"position":{"start":{"line":45,"column":1,"offset":580},"end":{"line":45,"column":25,"offset":604}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"EC2上のGentoo","position":{"start":{"line":47,"column":3,"offset":608},"end":{"line":47,"column":14,"offset":619}}}],"position":{"start":{"line":47,"column":1,"offset":606},"end":{"line":47,"column":14,"offset":619}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"すべてはChefで構築","position":{"start":{"line":48,"column":3,"offset":622},"end":{"line":48,"column":14,"offset":633}}}],"position":{"start":{"line":48,"column":1,"offset":620},"end":{"line":48,"column":14,"offset":633}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"その上にアプリをデプロイ","position":{"start":{"line":49,"column":3,"offset":636},"end":{"line":49,"column":15,"offset":648}}}],"position":{"start":{"line":49,"column":1,"offset":634},"end":{"line":49,"column":15,"offset":648}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"再起動も1から構築","position":{"start":{"line":50,"column":3,"offset":651},"end":{"line":50,"column":12,"offset":660}}}],"position":{"start":{"line":50,"column":1,"offset":649},"end":{"line":50,"column":12,"offset":660}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ssh / sudo可能","position":{"start":{"line":51,"column":3,"offset":663},"end":{"line":51,"column":15,"offset":675}}}],"position":{"start":{"line":51,"column":1,"offset":661},"end":{"line":51,"column":15,"offset":675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"何台、何度でも再現可能","position":{"start":{"line":52,"column":3,"offset":678},"end":{"line":52,"column":14,"offset":689}}}],"position":{"start":{"line":52,"column":1,"offset":676},"end":{"line":53,"column":1,"offset":690}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DB","position":{"start":{"line":54,"column":3,"offset":693},"end":{"line":54,"column":5,"offset":695}}}],"position":{"start":{"line":54,"column":3,"offset":693},"end":{"line":54,"column":5,"offset":695}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"PostgressSQL","position":{"start":{"line":55,"column":5,"offset":700},"end":{"line":55,"column":17,"offset":712}}}],"position":{"start":{"line":55,"column":3,"offset":698},"end":{"line":55,"column":17,"offset":712}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MySQL","position":{"start":{"line":56,"column":5,"offset":717},"end":{"line":56,"column":10,"offset":722}}}],"position":{"start":{"line":56,"column":3,"offset":715},"end":{"line":56,"column":10,"offset":722}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Riak","position":{"start":{"line":57,"column":5,"offset":727},"end":{"line":57,"column":9,"offset":731}}}],"position":{"start":{"line":57,"column":3,"offset":725},"end":{"line":57,"column":9,"offset":731}}},{"type":"text","value":"\n"}],"position":{"start":{"line":55,"column":3,"offset":698},"end":{"line":57,"column":9,"offset":731}}},{"type":"text","value":"\n"}],"position":{"start":{"line":54,"column":1,"offset":691},"end":{"line":58,"column":1,"offset":732}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Riakはバックエンドでたてないとダメ","position":{"start":{"line":59,"column":3,"offset":735},"end":{"line":59,"column":22,"offset":754}}}],"position":{"start":{"line":59,"column":1,"offset":733},"end":{"line":59,"column":22,"offset":754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Riak Searchを使って全文検索が可能","position":{"start":{"line":60,"column":3,"offset":757},"end":{"line":60,"column":25,"offset":779}}}],"position":{"start":{"line":60,"column":1,"offset":755},"end":{"line":60,"column":25,"offset":779}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"今後、Yokozunaに移行予定","position":{"start":{"line":61,"column":3,"offset":782},"end":{"line":61,"column":19,"offset":798}}}],"position":{"start":{"line":61,"column":1,"offset":780},"end":{"line":61,"column":19,"offset":798}}},{"type":"text","value":"\n"}],"position":{"start":{"line":47,"column":1,"offset":606},"end":{"line":61,"column":19,"offset":798}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}},"raw":"# Riak intro & RICON報告\n\n@kuenishi\n\n分散システムの研究や開発は5年ぐらい\n日本法人が9月に出来た。\n\n## Riakの紹介\n\n* Dynamoにインスパイアされた\n* Consistent Hassingによる水平分割する\n* Vector Clocksを用いてレプリケーション\n* Erlang/OTPで動作\n* 分散KVS\n\n* HTTP / Protocol Buffers\n* Secondary Index/ MapReduce\n* Link Walking\n* Consistent Hassing and Replicas / Vecteor Clocks\n\n分散システム、ざっくり。\n\n* Graph\n* SQL\n* Document\n* Scale out\n\n## RICONについて\n\n* 分散システム、分散DBのカンファレンス\n\n### 事例\n\n* Redis側でロックして、裏側はRiakで構築\n  * 壊れても大丈夫なようにするのが鉄板のパターン\n\n## 面白かった話\n\n* Rak Pipe\n* Introduction Yokozuna\n* Building Riak CS on Riak\n* Cloning the Cloud\n* Bringing Consistency on Riak\n\n## Riak with Engine yard\n\n* EC2上のGentoo\n* すべてはChefで構築\n* その上にアプリをデプロイ\n* 再起動も1から構築\n* ssh / sudo可能\n* 何台、何度でも再現可能\n\n* DB\n  * PostgressSQL\n  * MySQL\n  * Riak\n\n* Riakはバックエンドでたてないとダメ\n* Riak Searchを使って全文検索が可能\n* 今後、Yokozunaに移行予定\n"}