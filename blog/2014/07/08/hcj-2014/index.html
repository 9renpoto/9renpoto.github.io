<!doctype html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="https://9renpoto.github.io/ico/favicon.ico"><link rel="stylesheet" href="https://9renpoto.github.io/assets/delic.bundle.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><script async src="https://9renpoto.github.io/assets/delic.bundle.js"></script><title>#hcj-2014</title><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TD87SR" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-TD87SR");</script></head><body role="document" data-twttr-rendered="true"><div class="nav"><div class="nav-left"><a class="nav-item title" href="/">:-)</a></div><div class="nav-right nav-menu"><a class="nav-item" href="https://github.com/9renpoto"><span class="icon"><i class="fa fa-github"></i></span> </a><a class="nav-item" href="https://www.facebook.com/9renpoto"><span class="icon"><i class="fa fa-facebook"></i></span> </a><a class="nav-item" href="https://twitter.com/9renpoto"><span class="icon"><i class="fa fa-twitter"></i></span> </a><a class="nav-item" href="https://www.youtube.com/channel/UCHkajp8KwHzG-88kcNoRAbw"><span class="icon"><i class="fa fa-youtube"></i></span> </a><a class="nav-item" href="https://9renpoto.github.io/blog.html">blog</a> <a class="nav-item" href="https://9renpoto.github.io/profile/">profile</a> <a class="nav-item" href="https://9renpoto.github.io/slides/">slides</a></div></div><article role="main" class="post"><header><section class="hero is-primary"><div class="hero-body"><div class="container"><h1 class="title"><a href="https://9renpoto.github.io/blog/2014/07/08/hcj-2014/">#hcj-2014</a></h1><h2 class="subtitle"><div class="columns"><div class="column"><time datetime="2014-07-08T00:00:00Z">July 8, 2014</time></div></div></h2></div></div></section></header><section class="section"><div class="container is-fluid"><div class="content"><h1 id="hadoop-conference-japan-2014に参加してきました">Hadoop Conference Japan 2014に参加してきました</h1><p>個人的な所感としては。</p><ul><li>spark楽しそう（だけどまだ触るには勇気が）</li><li>Prestoも熱そう</li><li>MapR書くよりもSQL書く方がお手軽</li></ul><p>以下はメモ書き。</p><h2 id="keynote">keynote</h2><h3 id="hadoopを取り巻く環境について">hadoopを取り巻く環境について</h3><ul><li>始めて普及した並列分散<ul><li>データの読み込みのスループットを最大化</li><li>全件データの処理を実現</li><li>シンプルなモデル（MapReduce)</li><li>YARN</li><li>MapReduceからそれ以外のアルゴリズムも</li><li>複数の並列分散エンジンを併用できる環境</li><li>メモリーの大容量化、10Gbpsネットワークの普及<ul><li>インメモリー処理の実現性の向上</li></ul></li></ul></li></ul><h3 id="the-future-of-data">The Future of Data</h3><p>Doug Cutting</p><ul><li>未来について<ul><li>ハードウェアの価格の低下、性能の向上</li><li>データの重要性の向上</li><li>オープンソースが勝ち残る</li></ul></li></ul><h3 id="the-future-of-spark">The Future of spark</h3><p>Patric Wendlell</p><ul><li>Sparkの目的<ul><li>データサイエンティスト、エンジニア能力の拡張</li><li>表現力のあるクリーンなAPIの提供</li><li>多様な環境にわたって統合されたランタイム</li></ul></li><li>API　stability<ul><li>3か月サイクルでマイナーリリース</li><li>必要におおじてメンテナンスリリース</li></ul></li><li>Spark SQL</li><li>MLlib<ul><li>Spark + R</li></ul></li><li>DataBricks</li></ul><h3 id="hadoopエコシステムの片鱗と見えてきた使いドコロ">Hadoopエコシステムの片鱗と見えてきた使いドコロ</h3><ul><li>TreasureData<ul><li>なぜHadoop使うのか</li><li>Hadoopを使うのは最適な解か<ul><li>安いストレージとして使うだけならHadoopより良い物は沢山ある</li></ul></li><li>データの収集ソフトウェア<ul><li>多種多様なデータ・ソース</li><li>fluentd,flumea,kafka,sqoop</li></ul></li><li>ファイルフォーマット<ul><li>Schema on Read</li></ul></li><li>管理・人的コスト低減の支援</li><li>簡単にデータを扱うか<ul><li>Tez, Spark</li></ul></li><li>SQL on Hadoop<ul><li>Impala, SlarkSQL, Presto Drill</li><li>Mahout, Spark MLlib</li></ul></li><li>今までの時代<ul><li>データを入れるだけ入れたけど、レポート化できる人の限られている</li><li>今までは何でも入れられるだけ</li><li>これからはだれでも取り出せるようにしないと意味がない</li></ul></li><li>Hadoop -&gt; MPP<ul><li>Twitter: Hadoop -&gt; Vertica</li><li>Pinterest: Hadoop -&gt; redshift</li></ul></li><li>非構造化データの領域に踏み込む</li><li>混沌の時代</li></ul></li></ul><h2 id="セッション">セッション</h2><h3 id="マルチテナント化に向けたhadoopの最新セキュリティー事情">マルチテナント化に向けたHadoopの最新セキュリティー事情</h3><ul><li>Hadoopのユースケースの移り変わり<ul><li>バッチ処理を効率よく行うため</li><li>部門単位での利用、クラスターの乱立</li><li>近年</li><li>バッチ処理 + インタラクティブな処理</li><li>SQLによるアクセス</li><li>データは一部の人だけのものではない</li><li>クラスターの共有（マルチテナント）</li><li>マルチテナントのメリット</li><li>データの複製不要</li><li>業務の取り巻き</li><li>性能・効率の改善</li><li>課題 　- リソースの分離と管理</li><li>Role管理</li></ul></li><li>マルチテナントとセキュリティーの関連性<ul><li>認証</li><li>kerberos<ul><li>相手が何者であるかを保証するプロトコル</li><li>暗号化</li></ul></li><li>認可</li><li>HDFS ACL<ul><li>ファイルシステムレベルでのaccess control</li></ul></li><li>Apache Sentry<ul><li>データベース、テーブルview、行列の粒度でアクセス制御</li></ul></li></ul></li><li>認可モジュールSentryの紹介<ul><li>Apache Sentryはモジュールとして開発されている</li></ul></li></ul><h3 id="bigquery-and-the-world-after-mapreduce">BigQuery and the world after MapReduce</h3><ul><li>BigData at Google<ul><li>ログ分析するのにMapReduceを書いてる場合じゃない</li><li>BigQuery ( sql base )</li><li>indexなんてないんや</li><li>全文検索、120億行、10秒ぐらい</li><li>storage料金</li><li>Quesy料金</li></ul></li><li>Column Oriented Storage<ul><li>もはやスタンダード</li></ul></li><li>Colossus File System<ul><li>GFSの次のもの</li></ul></li><li>MPP<ul><li>1TBの内容を数秒で舐めるためには何台必要なのか</li></ul></li><li>JOIN<ul><li>small join</li><li>broadcast JOIN</li><li>ばらまいてコピー =&gt; JOIN</li><li>JOIN Each</li><li>shuffleしてjoinできる</li></ul></li><li>BigQuery Streaming<ul><li>fluentd</li><li>fluent-plugin-bigquery</li></ul></li><li>BigQuery User-Defined-Function-with-JavaScript<ul><li>クエリ内にJavaScript書く</li></ul></li><li>Cloud Pub/Sub</li><li>FlumeJava<ul><li><a href="http://pages.cs.wisc.edu/~akella/CS838/F12/838-CloudPapers/FlumeJava.pdf">論文あるよ!</a></li></ul></li><li>MillWheel<ul><li><a href="http://static.googleusercontent.com/media/research.google.com/ja//pubs/archive/41378.pdf">論文あるよ!</a></li></ul></li></ul><h3 id="sqlによるバッチ処理とストリーム処理">SQLによるバッチ処理とストリーム処理</h3><ul><li>@tagomoris<ul><li>stream処理</li><li>norikra</li><li>Hadoop</li><li>Hive/ Presto</li><li>SQL is NOT the best;</li><li>But, SQL is better than NONE.</li><li>Batch processing</li><li>hive</li><li>Stream processing</li><li>storm</li><li>kafka</li><li>esper</li><li>norikra</li><li>fluentd</li></ul></li><li>Lamda Architecture<ul><li>Streaming</li><li>速報値</li><li>Batch</li><li>確定値</li><li>両方に対応したい</li></ul></li><li>Stream処理<ul><li>レイテンシが低い</li><li>同じ処理をバッチとしても実行できる必要がある</li></ul></li></ul><h3 id="yarn">YARN</h3><ul><li>TD<ul><li>PlazumaDB</li><li>S3上で動作</li><li>HDFS is not used</li><li>Hadoop Cluster</li><li>Customize hadoop</li><li>Customize hive</li><li>Customize Pig</li><li>PlazumaDB</li><li>Customize Impala</li><li>Customize Presto</li><li>独自queue</li><li>独自scheduler</li><li>YARN cluster</li><li>プロダクションにはまだ入れてないが 環境整えている</li></ul></li><li>YARNとは<ul><li>Job History Server注意</li><li>起動してないと過去ログが追えなくなる</li><li>NOTE</li><li>Use the Hadoop 2.4.0 and later<ul><li>Capacity Scheduler、there is a bug</li><li>deadlock</li></ul></li><li>hadoop-conf-pseudo doees not work</li><li>2.2.0 and 2.4.0<ul><li>結構違うので注意</li></ul></li></ul></li></ul><h3 id="presto">Presto</h3><ul><li>what is Presto<ul><li>Facebookで作られてoss化</li><li>HDFS上のデータを可視化したい</li><li>うまくいかない</li><li>hiveが遅すぎる</li><li>hiveをバッチ化 =&gt; 中間DBに入れる</li><li>中間DBはスケールしない</li><li>HDFSに保存してないものは入れなきゃならない</li></ul></li><li>Presto<ul><li>中間データベースの取り除く有効な手段</li><li>他のデータストアを舐めることにも対応</li><li>Hiveとの使い分けが必要</li><li>巨大なjoin</li><li>group by</li><li>Interactiveなクエリを発行できる</li><li>複数のデータ・セットをまとめて表示できる</li></ul></li><li>BI tools<ul><li>可視化に利用していく</li><li><code>ODBC/JDBC is very complicated!</code></li></ul></li><li>Prestoの実行モデルについて<ul><li>not MapReduce</li><li>全部並行で動いてる</li><li>一個死んだら全部死ぬ</li><li>メモリー溢れてしまうとクエリが死んでしまう</li><li>メモリーの使用量はクラスターで管理されて、クラスターが死ぬことはない（はず）</li><li>がクエリは死ぬ</li></ul></li></ul></div></div></section><section class="section"><a class="button is-info" href="https://9renpoto.github.io/categories/hadoop/">hadoop</a></section></article></body></html>