<!doctype html><html lang="ja"><head><meta name="generator" content="Hugo 0.23-DEV"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="https://9renpoto.github.io/ico/favicon.ico"><link rel="stylesheet" href="https://9renpoto.github.io/assets/delic.bundle.css"><script async src="https://9renpoto.github.io/assets/delic.bundle.js"></script><title>:-)</title><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TD87SR" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-TD87SR");</script></head><body role="document" data-twttr-rendered="true"><div class="nav"><div class="nav-left"><a class="nav-item title" href="/">:-)</a></div><div class="nav-right nav-menu"><a class="nav-item" href="https://github.com/9renpoto"><span class="icon"><i class="fa fa-github"></i></span> </a><a class="nav-item" href="https://www.facebook.com/9renpoto"><span class="icon"><i class="fa fa-facebook"></i></span> </a><a class="nav-item" href="https://twitter.com/9renpoto"><span class="icon"><i class="fa fa-twitter"></i></span> </a><a class="nav-item" href="https://www.youtube.com/channel/UCHkajp8KwHzG-88kcNoRAbw"><span class="icon"><i class="fa fa-youtube"></i></span> </a><a class="nav-item" href="https://9renpoto.github.io/blog/">blog</a> <a class="nav-item" href="https://9renpoto.github.io/profile/">profile</a> <a class="nav-item" href="https://9renpoto.github.io/slides/">slides</a></div></div><section><article><header><section class="hero is-primary"><div class="hero-body"><div class="container"><h1 class="title"><a href="https://9renpoto.github.io/blog/2017/06/16/google-optimize-variation/">google optimize を読む</a></h1><h2 class="subtitle"><div class="columns"><div class="column"><time datetime="2017-06-16T00:00:11&#43;09:00">June 16, 2017</time></div></div></h2></div></div></section></header><section class="section"><div class="container is-fluid"><div class="content"><h1 id="tl-dr">TL;DR</h1><ul><li>google optimizeで今適応されているテストは何か調べた</li><li>テストの結果はfirst party cookie</li><li><code>_gaexp</code>という名前で記録されている</li><li><strong>規約は読んで自己責任で参照しましょう</strong></li></ul><p><img src="/images/google-optimize-logo.jpg" alt="optimize"></p><h2 id="軽く調べた結果">軽く調べた結果</h2><ul><li><a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage?hl=en#optimize">公開情報</a><ul><li><code>_gaexp</code>という名前で記録されている</li><li>cookieはデフォルト90日保存</li></ul></li></ul><h2 id="おそらく操作しているところ">おそらく操作しているところ</h2><ul><li><code>m[0]</code> は <code>experimentid</code></li><li><code>m[2]</code> がテストのパターンを表している<ul><li>cookieの一番最後のnumber</li><li>これだけだと <code>variationid</code> としては使えないので何かと複合してユニークになっている</li></ul></li><li><code>m[1]</code> はnumberだが何の値かはすぐにはわからなかった</li></ul><pre><code class="language-js">Zg = function(a, b) {
  const c = b.match(/GAX1\.([^.]+).(.*)/)
  if (c) {
    let d
    a: {
      const e = (c[1] || &quot;&quot;).split(&quot;-&quot;)
      if (!(e.length == 0 || e.length &gt; 2)) {
        const f = ia(e[0])
        if (f.length != 0) {
          const g = e.length == 2 ? ia(e[1]) : &quot;1&quot;
          if (uf(f) &amp;&amp; uf(g)) {
            d = new Og(T(f), T(g))
            break a
          }
        }
      }
      d = void 0
    }
    if (d) {
      for (
        var h = new Qg(d, a.qa, a.ha), k = (c[2] || &quot;&quot;).split(&quot;!&quot;), l = 0;
        l &lt; k.length;
        l++
      ) {
        const m = k[l].split(&quot;.&quot;)
        if (m.length == 3) {
          if (!uf(m[1])) {
            return
          }
          Ug(h, m[0], new Pg(m[2], T(m[1])))
        }
      }
      return h
    }
  }
}
</code></pre><h2 id="extra">Extra</h2><ul><li><a href="https://stackoverflow.com/questions/44412241/is-it-possible-to-read-experimentid-and-variationid-in-javascript-with-google-op">stackoverflow</a><ul><li>ABテストとしてJavaScript が実行できるので、自分でユニークなIDを配信して実行されているテストを特定しましょう</li><li>リバースエンジニアリングして危ない道を渡るよりも現実的</li><li>ちゃんとABテストの記録は計測できます、そうgoogle analyticsならね！</li></ul></li></ul><p>Happy Hacking!</p></div></div></section><section class="section"><a class="button is-info" href="https://9renpoto.github.io/categories/javascript/">javascript</a></section></article><article><header><section class="hero is-primary"><div class="hero-body"><div class="container"><h1 class="title"><a href="https://9renpoto.github.io/blog/2017/06/08/nuxt-static-site-genetator/">nuxt static site genetator</a></h1><h2 class="subtitle"><div class="columns"><div class="column"><time datetime="2017-06-08T22:22:18&#43;09:00">June 8, 2017</time></div></div></h2></div></div></section></header><section class="section"><div class="container is-fluid"><div class="content"><h1 id="tl-dr">TL;DR</h1><ul><li>SSRかと思ったら静的サイトも生成できる時代</li><li>良い素振り環境であれば進んで移行</li></ul><h2 id="gatsby">gatsby</h2><p><a href="https://www.staticgen.com/gatsby">https://www.staticgen.com/gatsby</a></p><ul><li>Reactベースで、ブログやドキュメントのような静的サイトを生成出来るツールとして様子を見ていた</li><li>webpack v1系の依存が取れなていない<ul><li>webpack v3-rcが来てしまったことを考えると厳しそう</li><li>@storybook/reactの苦い経験</li></ul></li><li>Routerの素振り環境として魅力的だったものの尻込みしていた</li></ul><h2 id="nuxt-js">nuxt.js</h2><p><a href="https://www.staticgen.com/nuxt">https://www.staticgen.com/nuxt</a></p><ul><li>inspired by next.jsなライブラリ</li><li>存在は知っていたがまさか静的サイト生成が可能らしい<ul><li>staticgen.com参照して気づく</li></ul></li><li>触ってみる価値はあると判断</li><li>RSSなどブログっぽいものはない可能性</li></ul><h2 id="next-js">next.js</h2><ul><li>next.jsも同様に可能？<ul><li><a href="https://github.com/zeit/next.js/issues/604">https://github.com/zeit/next.js/issues/604</a></li></ul></li><li>普段はReactを触っていることが多いため可能ならこちらから</li></ul><p><a href="http://tiqav.com/1Lg"><img src="http://tiqav.com/1Lg.th.jpg" alt="ワンピース"></a></p></div></div></section><section class="section"><a class="button is-info" href="https://9renpoto.github.io/categories/javascript/">javascript </a><a class="button is-info" href="https://9renpoto.github.io/categories/react/">react </a><a class="button is-info" href="https://9renpoto.github.io/categories/vue/">vue</a></section></article></section></body></html>