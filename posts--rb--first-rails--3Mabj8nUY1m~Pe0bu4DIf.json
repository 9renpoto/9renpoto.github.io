{"data":{"date":"2019-01-01T05:00:00.000Z","permalink":"/entry/2019/01/01/first-rails/","title":"重い腰を上げてRailsを見る","_entry":"posts/rb/first-rails.md","page":"post","name":"first-rails","category":"rb","url":"/entry/2019/01/01/first-rails/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"TL;DR"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"いろんな会社に話を聞きに行ったが、まだまだ世界はRails"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"そうだRailsを学ぼう"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"とりあえず数時間だけ作った、 getting startedを進めていきたい"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/rb"},"children":[{"type":"text","value":"https://github.com/9renpoto/rb"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Rubyを手に入れる"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"brew install ruby"}]},{"type":"text","value":" で雑に使っていたわけだが流石にバージョンを固定する"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"過去はrbenvを使っていたけれど "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/daenney/rbenv"},"children":[{"type":"text","value":"using asdf instend"}]},{"type":"text","value":" らしいので別で検討する"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/oh-my-fish/plugin-rbenv"},"children":[{"type":"text","value":"omf/plugin-rbenv"}]},{"type":"text","value":" でも良かったけれど更新されてない"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"とりあえずメンテされてそうな "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/rstacruz/fish-asdf"},"children":[{"type":"text","value":"rstacruz/fish-asdf"}]},{"type":"text","value":" を入れる"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"asdf"}]},{"type":"text","value":" そのものは "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"brew"}]},{"type":"text","value":" で入れて、かつ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/local/bin"}]},{"type":"text","value":" を使っていないためイマイチ動きが合わない"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/asdf-vm/asdf#setup"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"asdf"}]},{"type":"text","value":" 公式"}]},{"type":"text","value":" の方法でactivateする（"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/dotfiles/commit/ac00ecbeda4c16a3e741ab14158aad682241c1ce#diff-66758e6f92b7dd7008c34229fe0c9fe1R14"},"children":[{"type":"text","value":"refs"}]},{"type":"text","value":"）"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Rails new"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Rails projectを作るためにRailsを入れる必要がある"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"とりあえず "},{"type":"element","tagName":"a","properties":{"href":"https://docs.docker.com/compose/rails/"},"children":[{"type":"text","value":"Docker compose"}]},{"type":"text","value":" 公式の方法でプロジェクトを初期化する"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Rubocopを入れる"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"どんなものなのか、とりあえず "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/toshimaru/rubocop-rails_config"},"children":[{"type":"text","value":"rails のものらしい"}]},{"type":"text","value":" 設定を採用する"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"一部formatしてくれるし便利な様子"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"現状"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"lockfileがあるけど "},{"type":"element","tagName":"a","properties":{"href":"https://travis-ci.com/9renpoto/rb/builds/96012247"},"children":[{"type":"text","value":"CI 上だけ Fail"}]},{"type":"text","value":" する。つらい"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"rspecは標準ではscaffordされないのか、と思った"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"まだcoffee-scriptっぽいものを持ってる"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"e2eテスト系のフレームワークにも依存して、どっしりしている"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"とりあえず目指す着地"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"DB依存してテスト書く"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"redis依存してテスト書く"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"coverage report出す"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"噂の "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"webpacker"}]},{"type":"text","value":" とかに依存する"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/airbnb/hypernova-ruby"},"children":[{"type":"text","value":"hypernova-ruby"}]},{"type":"text","value":" とかに依存する"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"raw":"\n# TL;DR\n\n- いろんな会社に話を聞きに行ったが、まだまだ世界はRails\n- そうだRailsを学ぼう\n- とりあえず数時間だけ作った、 getting startedを進めていきたい\n\n<https://github.com/9renpoto/rb>\n\n## Rubyを手に入れる\n\n- `brew install ruby` で雑に使っていたわけだが流石にバージョンを固定する\n  - 過去はrbenvを使っていたけれど [using asdf instend](https://github.com/daenney/rbenv) らしいので別で検討する\n    - [omf/plugin-rbenv](https://github.com/oh-my-fish/plugin-rbenv) でも良かったけれど更新されてない\n  - とりあえずメンテされてそうな [rstacruz/fish-asdf](https://github.com/rstacruz/fish-asdf) を入れる\n  - `asdf` そのものは `brew` で入れて、かつ `/usr/local/bin` を使っていないためイマイチ動きが合わない\n  - [`asdf` 公式](https://github.com/asdf-vm/asdf#setup) の方法でactivateする（[refs](https://github.com/9renpoto/dotfiles/commit/ac00ecbeda4c16a3e741ab14158aad682241c1ce#diff-66758e6f92b7dd7008c34229fe0c9fe1R14)）\n\n## Rails new\n\n- Rails projectを作るためにRailsを入れる必要がある\n- とりあえず [Docker compose](https://docs.docker.com/compose/rails/) 公式の方法でプロジェクトを初期化する\n\n## Rubocopを入れる\n\n- どんなものなのか、とりあえず [rails のものらしい](https://github.com/toshimaru/rubocop-rails_config) 設定を採用する\n- 一部formatしてくれるし便利な様子\n\n## 現状\n\n- lockfileがあるけど [CI 上だけ Fail](https://travis-ci.com/9renpoto/rb/builds/96012247) する。つらい\n- rspecは標準ではscaffordされないのか、と思った\n- まだcoffee-scriptっぽいものを持ってる\n- e2eテスト系のフレームワークにも依存して、どっしりしている\n\n## とりあえず目指す着地\n\n- DB依存してテスト書く\n- redis依存してテスト書く\n- coverage report出す\n- 噂の `webpacker` とかに依存する\n- [hypernova-ruby](https://github.com/airbnb/hypernova-ruby) とかに依存する\n"}