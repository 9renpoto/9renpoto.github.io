{"data":{"date":"2016-08-11T12:43:32.000Z","permalink":"/entry/2016/08/11/module-test/","title":"TypeScript with power-assert","category":"js","_entry":"posts/ts/2016-08-11-module-test.md","page":"post","name":"module-test","url":"/entry/2016/08/11/module-test/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"TypeScriptでpower-assertを使いたい"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://9renpoto.github.io/entry/2016/06/23/typescript-module-test/"},"children":[{"type":"text","value":"TypeScript テストについて"}]},{"type":"text","value":" 少し調べました。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/ts/pull/31"},"children":[{"type":"text","value":"https://github.com/9renpoto/ts/pull/31"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"原因"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"TypeScriptがファイルパスを相対パスか絶対パスのどちらかで返す場合がある"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/Microsoft/TypeScript/blob/204f2c16c0d6ff851e4798c03a9646b625ac2bd7/src/compiler/core.ts#L821-L825"},"children":[{"type":"text","value":"https://github.com/Microsoft/TypeScript/blob/204f2c16c0d6ff851e4798c03a9646b625ac2bd7/src/compiler/core.ts#L821-L825"}]}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"対策"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/teppeis/typescript-simple/pull/47"},"children":[{"type":"text","value":"https://github.com/teppeis/typescript-simple/pull/47"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"悩み"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rootDir"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"outDir"}]},{"type":"text","value":" の組み合わせで挙動が変わることを理解する必要がある"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rootDirs"}]},{"type":"text","value":" が入る（TypeScript 2.0~)"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"raw":"\n# TypeScriptでpower-assertを使いたい\n\n[TypeScript テストについて](https://9renpoto.github.io/entry/2016/06/23/typescript-module-test/) 少し調べました。\n\n- <https://github.com/9renpoto/ts/pull/31>\n\n## 原因\n\n- TypeScriptがファイルパスを相対パスか絶対パスのどちらかで返す場合がある\n  - <https://github.com/Microsoft/TypeScript/blob/204f2c16c0d6ff851e4798c03a9646b625ac2bd7/src/compiler/core.ts#L821-L825>\n\n## 対策\n\n- <https://github.com/teppeis/typescript-simple/pull/47>\n\n## 悩み\n\n- `rootDir`, `outDir` の組み合わせで挙動が変わることを理解する必要がある\n- `rootDirs` が入る（TypeScript 2.0~)\n"}