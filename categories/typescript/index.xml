<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Typescript on :-)</title>
    <link>https://9renpoto.github.io/categories/typescript/</link>
    <description>Recent content in Typescript on :-)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-JP</language>
    <lastBuildDate>Wed, 31 Aug 2016 21:26:35 +0900</lastBuildDate>
    <atom:link href="https://9renpoto.github.io/categories/typescript/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>TypeScript のテスト環境を考える</title>
      <link>https://9renpoto.github.io/blog/2016/08/31/karma-webpack/</link>
      <pubDate>Wed, 31 Aug 2016 21:26:35 +0900</pubDate>
      
      <guid>https://9renpoto.github.io/blog/2016/08/31/karma-webpack/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://travis-ci.org/9renpoto/ts/builds/156475663&#34;&gt;https://travis-ci.org/9renpoto/ts/builds/156475663&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;上手く動かない&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;アバウトな構成&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&amp;quot;devDependencies&amp;quot;: {
  &amp;quot;@9renpoto/eslint-config&amp;quot;: &amp;quot;^1.1.0&amp;quot;,
  &amp;quot;@9renpoto/tslint-config&amp;quot;: &amp;quot;^1.0.0&amp;quot;,
  &amp;quot;@types/mocha&amp;quot;: &amp;quot;^2.2.31&amp;quot;,
  &amp;quot;@types/power-assert&amp;quot;: &amp;quot;0.0.27&amp;quot;,
  &amp;quot;awesome-typescript-loader&amp;quot;: &amp;quot;^2.2.1&amp;quot;,
  &amp;quot;codecov&amp;quot;: &amp;quot;^1.0.1&amp;quot;,
  &amp;quot;eslint&amp;quot;: &amp;quot;^3.4.0&amp;quot;,
  &amp;quot;json-loader&amp;quot;: &amp;quot;^0.5.4&amp;quot;,
  &amp;quot;karma&amp;quot;: &amp;quot;^1.2.0&amp;quot;,
  &amp;quot;karma-coverage&amp;quot;: &amp;quot;^1.1.1&amp;quot;,
  &amp;quot;karma-firefox-launcher&amp;quot;: &amp;quot;^1.0.0&amp;quot;,
  &amp;quot;karma-mocha&amp;quot;: &amp;quot;^1.1.1&amp;quot;,
  &amp;quot;karma-sourcemap-loader&amp;quot;: &amp;quot;^0.3.7&amp;quot;,
  &amp;quot;karma-webpack&amp;quot;: &amp;quot;^1.8.0&amp;quot;,
  &amp;quot;mocha&amp;quot;: &amp;quot;^3.0.2&amp;quot;,
  &amp;quot;npm-run-all&amp;quot;: &amp;quot;^3.0.0&amp;quot;,
  &amp;quot;power-assert&amp;quot;: &amp;quot;^1.4.1&amp;quot;,
  &amp;quot;rimraf&amp;quot;: &amp;quot;^2.5.4&amp;quot;,
  &amp;quot;tslint&amp;quot;: &amp;quot;^3.15.1&amp;quot;,
  &amp;quot;typescript&amp;quot;: &amp;quot;^2.0.2&amp;quot;,
  &amp;quot;webpack&amp;quot;: &amp;quot;^1.13.2&amp;quot;,
  &amp;quot;webpack-espower-loader&amp;quot;: &amp;quot;^1.0.1&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;tsc&lt;/code&gt; しても &lt;code&gt;webpack&lt;/code&gt; しても問題ないように見えるが、 &lt;code&gt;karma&lt;/code&gt; を通した場合 &lt;code&gt;SyntaxError&lt;/code&gt; など出てきて非常に厳しい&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/9renpoto/karma-power-assert-typescript-mocha-webpack-sample&#34;&gt;https://github.com/9renpoto/karma-power-assert-typescript-mocha-webpack-sample&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;同様の構成で先に検証頂いているものを発見するも、現在構成との違いの無さに
こちらが動かない理由は不明、頭を悩ませる&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>TypeScript で coverage を計測する</title>
      <link>https://9renpoto.github.io/blog/2016/08/20/coverage/</link>
      <pubDate>Sat, 20 Aug 2016 14:28:25 +0900</pubDate>
      
      <guid>https://9renpoto.github.io/blog/2016/08/20/coverage/</guid>
      <description>

&lt;h1 id=&#34;typescript-で-coverage-report-を計測する&#34;&gt;TypeScript で Coverage report を計測する&lt;/h1&gt;

&lt;h2 id=&#34;tl-dr&#34;&gt;TL;DR&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.npmjs.com/package/remap-istanbul&#34;&gt;remap-istanbul&lt;/a&gt; を使う&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;usage&#34;&gt;Usage&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;npm install remap-istanbul&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sourcemap: true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;memo&#34;&gt;Memo&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;tsc&lt;/code&gt; &amp;gt; &lt;code&gt;npm test&lt;/code&gt; という流れになったため JavaScript としてテストをする形になる&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.npmjs.com/package/espower-typescript&#34;&gt;espower-typescript&lt;/a&gt; を使わないようになる

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;espower-typescript&lt;/code&gt; は tsc の wrapper なのでtscする場合は使えなそう&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;power-assert&lt;/code&gt; が上手く構造を解釈してくれてなさそう

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;espower-typescript&lt;/code&gt; が担っていた役割を別で与える必要がある?&lt;/li&gt;
&lt;li&gt;TypeScript に依存するなら無駄にbabel pluginなどは使いたくない&lt;/li&gt;
&lt;li&gt;TODO 考える&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;refs&#34;&gt;Refs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.syati.info/post/typescript_coverage/&#34;&gt;http://blog.syati.info/post/typescript_coverage/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/9renpoto/ts/pull/34&#34;&gt;https://github.com/9renpoto/ts/pull/34&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>TypeScript with power-assert</title>
      <link>https://9renpoto.github.io/blog/2016/08/11/module-test-2/</link>
      <pubDate>Thu, 11 Aug 2016 21:43:32 +0900</pubDate>
      
      <guid>https://9renpoto.github.io/blog/2016/08/11/module-test-2/</guid>
      <description>

&lt;h1 id=&#34;typescript-で-power-assert-を使いたい&#34;&gt;TypeScript で power-assert を使いたい&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://9renpoto.github.io/blog/2016/06/23/typescript-module-test/&#34;&gt;TypeScriptテストについて&lt;/a&gt; 少し調べました&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/9renpoto/ts/pull/31&#34;&gt;https://github.com/9renpoto/ts/pull/31&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;原因&#34;&gt;原因&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;TypeScript がファイルパスを相対パスか絶対パスのどちらかで返す場合がある

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Microsoft/TypeScript/blob/204f2c16c0d6ff851e4798c03a9646b625ac2bd7/src/compiler/core.ts#L821-L825&#34;&gt;https://github.com/Microsoft/TypeScript/blob/204f2c16c0d6ff851e4798c03a9646b625ac2bd7/src/compiler/core.ts#L821-L825&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;対策&#34;&gt;対策&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/teppeis/typescript-simple/pull/47&#34;&gt;https://github.com/teppeis/typescript-simple/pull/47&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;悩み&#34;&gt;悩み&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rootDir&lt;/code&gt;, &lt;code&gt;outDir&lt;/code&gt; の組み合わせで挙動が変わることを理解する必要がある&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rootDirs&lt;/code&gt; が入る(TypeScript 2.0~)&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>typescript test</title>
      <link>https://9renpoto.github.io/blog/2016/06/23/module-test/</link>
      <pubDate>Thu, 23 Jun 2016 11:25:56 +0900</pubDate>
      
      <guid>https://9renpoto.github.io/blog/2016/06/23/module-test/</guid>
      <description>&lt;p&gt;TypeScript の勉強を頑張ろう&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/9renpoto/javascript/pull/19&#34;&gt;9renpoto/javascript/pull/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/9renpoto/javascript/tree/fbb4448064f42461936bb02b792e9a6ec4f8c189&#34;&gt;commit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
  &amp;quot;devDependencies&amp;quot;: {
    &amp;quot;eslint&amp;quot;: &amp;quot;^2.13.1&amp;quot;,
    &amp;quot;espower-typescript&amp;quot;: &amp;quot;^5.0.1&amp;quot;,
    &amp;quot;mocha&amp;quot;: &amp;quot;^2.5.3&amp;quot;,
    &amp;quot;power-assert&amp;quot;: &amp;quot;^1.4.1&amp;quot;,
    &amp;quot;tslint&amp;quot;: &amp;quot;^3.11.0&amp;quot;,
    &amp;quot;typescript-eslint-parser&amp;quot;: &amp;quot;0.1.0-alpha-1&amp;quot;,
    &amp;quot;typings&amp;quot;: &amp;quot;^1.3.0&amp;quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;下記を満たす簡単なサンプルを書く&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;複数 module&lt;/li&gt;
&lt;li&gt;mocha によるテスト&lt;/li&gt;
&lt;li&gt;power-assertによるテスト&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;espower-typescript&lt;/code&gt; が通らないので中身を見て調べる&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>