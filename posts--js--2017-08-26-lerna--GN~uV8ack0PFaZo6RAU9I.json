{"data":{"title":"フロントエンド勉強環境にlernaを使う","date":"2017-08-26T10:19:00.000Z","permalink":"/entry/2017/08/28/lerna/","category":"js","_entry":"posts/js/2017-08-26-lerna.md","page":"post","name":"lerna","url":"/entry/2017/08/28/lerna/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"TL;DR","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":8,"offset":8}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":8,"offset":8}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"lernaは大きすぎないpackageを複数管理するときに割りと便利","position":{"start":{"line":4,"column":3,"offset":12},"end":{"line":4,"column":37,"offset":46}}}],"position":{"start":{"line":4,"column":1,"offset":10},"end":{"line":4,"column":37,"offset":46}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"lernaで便利なものと、対応していないものがある","position":{"start":{"line":5,"column":3,"offset":49},"end":{"line":5,"column":28,"offset":74}}},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"flow-typed, etc","position":{"start":{"line":6,"column":5,"offset":79},"end":{"line":6,"column":20,"offset":94}}}],"position":{"start":{"line":6,"column":3,"offset":77},"end":{"line":6,"column":20,"offset":94}}},{"type":"text","value":"\n"}],"position":{"start":{"line":6,"column":3,"offset":77},"end":{"line":6,"column":20,"offset":94}}}],"position":{"start":{"line":5,"column":1,"offset":47},"end":{"line":6,"column":20,"offset":94}}},{"type":"text","value":"\n"}],"position":{"start":{"line":4,"column":1,"offset":10},"end":{"line":6,"column":20,"offset":94}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Lerna","position":{"start":{"line":8,"column":4,"offset":99},"end":{"line":8,"column":9,"offset":104}}}],"position":{"start":{"line":8,"column":1,"offset":96},"end":{"line":8,"column":9,"offset":104}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"babel等で使われており存在は知っていたが、プラグイン等を管理するようなpackageを持っておらず使うつもりはなかった","position":{"start":{"line":10,"column":3,"offset":108},"end":{"line":10,"column":64,"offset":169}}}],"position":{"start":{"line":10,"column":1,"offset":106},"end":{"line":10,"column":64,"offset":169}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"greenkeeperに対応していない","position":{"start":{"line":11,"column":3,"offset":172},"end":{"line":11,"column":22,"offset":191}}},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"issueはあがっている","position":{"start":{"line":12,"column":5,"offset":196},"end":{"line":12,"column":17,"offset":208}}}],"position":{"start":{"line":12,"column":3,"offset":194},"end":{"line":12,"column":17,"offset":208}}},{"type":"text","value":"\n"}],"position":{"start":{"line":12,"column":3,"offset":194},"end":{"line":12,"column":17,"offset":208}}}],"position":{"start":{"line":11,"column":1,"offset":170},"end":{"line":12,"column":17,"offset":208}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"releaseコマンドを普段使わない","position":{"start":{"line":13,"column":3,"offset":211},"end":{"line":13,"column":21,"offset":229}}},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"git master commitの発生が気に食わない","position":{"start":{"line":14,"column":5,"offset":234},"end":{"line":14,"column":32,"offset":261}}}],"position":{"start":{"line":14,"column":3,"offset":232},"end":{"line":14,"column":32,"offset":261}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"素直にpublishだけしてほしい","position":{"start":{"line":15,"column":5,"offset":266},"end":{"line":15,"column":22,"offset":283}}}],"position":{"start":{"line":15,"column":3,"offset":264},"end":{"line":15,"column":22,"offset":283}}},{"type":"text","value":"\n"}],"position":{"start":{"line":14,"column":3,"offset":232},"end":{"line":15,"column":22,"offset":283}}}],"position":{"start":{"line":13,"column":1,"offset":209},"end":{"line":15,"column":22,"offset":283}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"それでも環境を分ける場合が増えてきたので使ってみる","position":{"start":{"line":16,"column":3,"offset":286},"end":{"line":16,"column":28,"offset":311}}},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"eslintrc","position":{"start":{"line":17,"column":5,"offset":316},"end":{"line":17,"column":13,"offset":324}}}],"position":{"start":{"line":17,"column":3,"offset":314},"end":{"line":17,"column":13,"offset":324}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"babelrc","position":{"start":{"line":18,"column":5,"offset":329},"end":{"line":18,"column":12,"offset":336}}}],"position":{"start":{"line":18,"column":3,"offset":327},"end":{"line":18,"column":12,"offset":336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"tsconfig","position":{"start":{"line":19,"column":5,"offset":341},"end":{"line":19,"column":13,"offset":349}}}],"position":{"start":{"line":19,"column":3,"offset":339},"end":{"line":19,"column":13,"offset":349}}},{"type":"text","value":"\n"}],"position":{"start":{"line":17,"column":3,"offset":314},"end":{"line":19,"column":13,"offset":349}}}],"position":{"start":{"line":16,"column":1,"offset":284},"end":{"line":19,"column":13,"offset":349}}},{"type":"text","value":"\n"}],"position":{"start":{"line":10,"column":1,"offset":106},"end":{"line":19,"column":13,"offset":349}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"入れてみた","position":{"start":{"line":21,"column":4,"offset":354},"end":{"line":21,"column":9,"offset":359}}}],"position":{"start":{"line":21,"column":1,"offset":351},"end":{"line":21,"column":9,"offset":359}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/js"},"children":[{"type":"text","value":"https://github.com/9renpoto/js","position":{"start":{"line":23,"column":4,"offset":364},"end":{"line":23,"column":34,"offset":394}}}],"position":{"start":{"line":23,"column":3,"offset":363},"end":{"line":23,"column":35,"offset":395}}}],"position":{"start":{"line":23,"column":1,"offset":361},"end":{"line":23,"column":35,"offset":395}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/ts"},"children":[{"type":"text","value":"https://github.com/9renpoto/ts","position":{"start":{"line":24,"column":4,"offset":399},"end":{"line":24,"column":34,"offset":429}}}],"position":{"start":{"line":24,"column":3,"offset":398},"end":{"line":24,"column":35,"offset":430}}}],"position":{"start":{"line":24,"column":1,"offset":396},"end":{"line":24,"column":35,"offset":430}}},{"type":"text","value":"\n"}],"position":{"start":{"line":23,"column":1,"offset":361},"end":{"line":24,"column":35,"offset":430}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"勉強","position":{"start":{"line":26,"column":4,"offset":435},"end":{"line":26,"column":6,"offset":437}}}],"position":{"start":{"line":26,"column":1,"offset":432},"end":{"line":26,"column":6,"offset":437}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"先を見るために今を見る","position":{"start":{"line":28,"column":3,"offset":441},"end":{"line":28,"column":14,"offset":452}}}],"position":{"start":{"line":28,"column":1,"offset":439},"end":{"line":28,"column":14,"offset":452}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"今の何が大事かは、最初はテスト環境だと思っている","position":{"start":{"line":29,"column":3,"offset":455},"end":{"line":29,"column":27,"offset":479}}},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"テストが走る","position":{"start":{"line":30,"column":5,"offset":484},"end":{"line":30,"column":11,"offset":490}}}],"position":{"start":{"line":30,"column":3,"offset":482},"end":{"line":30,"column":11,"offset":490}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ライブラリ特有のテストがかける","position":{"start":{"line":31,"column":5,"offset":495},"end":{"line":31,"column":20,"offset":510}}},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"jsx,tsx","position":{"start":{"line":32,"column":7,"offset":517},"end":{"line":32,"column":14,"offset":524}}}],"position":{"start":{"line":32,"column":5,"offset":515},"end":{"line":32,"column":14,"offset":524}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"vue","position":{"start":{"line":33,"column":7,"offset":531},"end":{"line":33,"column":10,"offset":534}}}],"position":{"start":{"line":33,"column":5,"offset":529},"end":{"line":33,"column":10,"offset":534}}},{"type":"text","value":"\n"}],"position":{"start":{"line":32,"column":5,"offset":515},"end":{"line":33,"column":10,"offset":534}}}],"position":{"start":{"line":31,"column":3,"offset":493},"end":{"line":33,"column":10,"offset":534}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"カバレッジが取れる","position":{"start":{"line":34,"column":5,"offset":539},"end":{"line":34,"column":14,"offset":548}}}],"position":{"start":{"line":34,"column":3,"offset":537},"end":{"line":34,"column":14,"offset":548}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"現実的な生産性が見える","position":{"start":{"line":35,"column":5,"offset":553},"end":{"line":35,"column":16,"offset":564}}}],"position":{"start":{"line":35,"column":3,"offset":551},"end":{"line":35,"column":16,"offset":564}}},{"type":"text","value":"\n"}],"position":{"start":{"line":30,"column":3,"offset":482},"end":{"line":35,"column":16,"offset":564}}}],"position":{"start":{"line":29,"column":1,"offset":453},"end":{"line":35,"column":16,"offset":564}}},{"type":"text","value":"\n"}],"position":{"start":{"line":28,"column":1,"offset":439},"end":{"line":35,"column":16,"offset":564}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://media.giphy.com/media/26tPplGWjN0xLybiU/giphy.gif","alt":"gif"},"children":[],"position":{"start":{"line":37,"column":1,"offset":566},"end":{"line":37,"column":66,"offset":631}}}],"position":{"start":{"line":37,"column":1,"offset":566},"end":{"line":37,"column":66,"offset":631}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}},"raw":"\n# TL;DR\n\n- lernaは大きすぎないpackageを複数管理するときに割りと便利\n- lernaで便利なものと、対応していないものがある\n  - flow-typed, etc\n\n## Lerna\n\n- babel等で使われており存在は知っていたが、プラグイン等を管理するようなpackageを持っておらず使うつもりはなかった\n- greenkeeperに対応していない\n  - issueはあがっている\n- releaseコマンドを普段使わない\n  - git master commitの発生が気に食わない\n  - 素直にpublishだけしてほしい\n- それでも環境を分ける場合が増えてきたので使ってみる\n  - eslintrc\n  - babelrc\n  - tsconfig\n\n## 入れてみた\n\n- <https://github.com/9renpoto/js>\n- <https://github.com/9renpoto/ts>\n\n## 勉強\n\n- 先を見るために今を見る\n- 今の何が大事かは、最初はテスト環境だと思っている\n  - テストが走る\n  - ライブラリ特有のテストがかける\n    - jsx,tsx\n    - vue\n  - カバレッジが取れる\n  - 現実的な生産性が見える\n\n![gif](https://media.giphy.com/media/26tPplGWjN0xLybiU/giphy.gif)\n"}