webpackJsonp([0xfb6b9e715600],{260:function(n,s){n.exports={data:{site:{siteMetadata:{title:":-)",author:"github.com/9renpoto"}},markdownRemark:{id:"/home/travis/build/9renpoto/entry/src/pages/2013-12-22-my-first-chef/index.md absPath of file >>> MarkdownRemark",html:'<h1>chef memo</h1>\n<p>環境構築といえば、chefだという噂を随分と聞くようになってきましたが、\nなんだかんだと使ってなかったのでメモ。\nとはいえ、レシピは誰かが書いてるので、\n今回は出来る限りレシピを使う方法で構築を目指す。</p>\n<h2>前準備</h2>\n<div class="gatsby-highlight">\n      <pre class="language-ruby"><code><span class="token comment" spellcheck="true"># Gemfile&#x306B;&#x8A18;&#x8F09;</span>\nsource <span class="token string">&apos;https://rubygems&#x3002;org&apos;</span>  <span class="token comment" spellcheck="true"># URL&#x306E;&#x6307;&#x5B9A;&#x3002;&#x546A;&#x6587;&#x3060;&#x3068;&#x601D;&#x3063;&#x3066;&#x6BCE;&#x56DE;&#x66F8;&#x304F;</span>\n\ngem <span class="token string">&apos;berkshelf&apos;</span>\ngem <span class="token string">&apos;chef&apos;</span>\ngem <span class="token string">&apos;knife-solo&apos;</span>\n</code></pre>\n      </div>\n<p>必要なgemをいつものように。</p>\n<div class="gatsby-highlight">\n      <pre class="language-sh"><code>bundle install</code></pre>\n      </div>\n<p>chef-soloを使えるように初期設定を行う。</p>\n<div class="gatsby-highlight">\n      <pre class="language-sh"><code>bundle exec knife configure</code></pre>\n      </div>\n<h2>そろそろchef</h2>\n<p>ひな形の生成。</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code>$ bundle <span class="token function">exec</span> knife solo init chef-repo\n$ tree chef-repo/\nchef-repo/\n&#x251C;&#x2500;&#x2500; cookbooks\n&#x251C;&#x2500;&#x2500; data_bags\n&#x251C;&#x2500;&#x2500; nodes\n&#x251C;&#x2500;&#x2500; roles\n&#x251C;&#x2500;&#x2500; site-cookbooks\n&#x2514;&#x2500;&#x2500; solo&#x3002;rb\n</code></pre>\n      </div>\n<p>忘れないうちにコミット。</p>\n<div class="gatsby-highlight">\n      <pre class="language-sh"><code>cd chef-repo\ngit init\ngit add &#x3002;\ngit commit -m &apos;first commit&apos;</code></pre>\n      </div>\n<p>公式なり、Githubにて公開されているレシピを利用しやすくるものとして <strong>Berksfile</strong> があります。</p>\n<div class="gatsby-highlight">\n      <pre class="language-ruby"><code>site <span class="token symbol">:opscode</span> <span class="token comment" spellcheck="true"># Berksfile</span>\n\ncookbook <span class="token string">&quot;apt&quot;</span>\ncookbook <span class="token string">&quot;git&quot;</span>\ncookbook <span class="token string">&quot;zsh&quot;</span>\ncookbook <span class="token string">&apos;vim&apos;</span>\ncookbook <span class="token string">&apos;the_silver_searcher&apos;</span>\n</code></pre>\n      </div>\n<p>公開されているレシピの情報を記述しておけば、コマンド1つで落としてこれます。\n便利。</p>\n<div class="gatsby-highlight">\n      <pre class="language-sh"><code>bundle exec berks install --path cookbooks</code></pre>\n      </div>\n<p>vagrant側でchefが使えるように以下のコマンドを実行。</p>\n<div class="gatsby-highlight">\n      <pre class="language-sh"><code>bundle exec knife solo prepare nodename</code></pre>\n      </div>\n<p>インストールしたいレシピを追加\nnode/nodename.json。</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token punctuation">{</span>\n  <span class="token string">&quot;run_list&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;recipe[apt]&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;recipe[git]&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;recipe[zsh]&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;recipe[vim]&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;recipe[the_silver_searcher]&quot;</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<p>レシピはできたのでcookしましょう。</p>\n<div class="gatsby-highlight">\n      <pre class="language-sh"><code>bundle exec knife solo cook nodename</code></pre>\n      </div>\n<h2>参考</h2>\n<ul>\n<li><a href="https://qiita.com/uchiunyo/items/5aa243f7a39ae443e10d">qiita.com/uchiunyo/item</a></li>\n</ul>',frontmatter:{title:"入門chef",date:"December 22, 2013"}}},pathContext:{path:"/entry/2013/12/22/my-first-chef/",_PARENT:"SOURCE"}}}});
//# sourceMappingURL=path---entry-2013-12-22-my-first-chef-01a4104bdc17bdb34167.js.map