{"data":{"date":"2016-08-31T12:26:35.000Z","permalink":"/entry/2016/08/31/karma-webpack/","title":"TypeScript のテスト環境を考える","category":"js","_entry":"posts/js/2016-08-31-karma-webpack.md","page":"post","name":"karma-webpack","url":"/entry/2016/08/31/karma-webpack/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"上手く動かない","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":10,"offset":10}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":10,"offset":10}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://travis-ci.org/9renpoto/ts/builds/156475663"},"children":[{"type":"text","value":"https://travis-ci.org/9renpoto/ts/builds/156475663","position":{"start":{"line":4,"column":2,"offset":13},"end":{"line":4,"column":52,"offset":63}}}],"position":{"start":{"line":4,"column":1,"offset":12},"end":{"line":4,"column":53,"offset":64}}}],"position":{"start":{"line":4,"column":1,"offset":12},"end":{"line":4,"column":53,"offset":64}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"アバウトな構成","position":{"start":{"line":6,"column":3,"offset":68},"end":{"line":6,"column":10,"offset":75}}}],"position":{"start":{"line":6,"column":1,"offset":66},"end":{"line":6,"column":10,"offset":75}}},{"type":"text","value":"\n"}],"position":{"start":{"line":6,"column":1,"offset":66},"end":{"line":6,"column":10,"offset":75}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"\"devDependencies\": {\n  \"@9renpoto/eslint-config\": \"^1.1.0\",\n  \"@9renpoto/tslint-config\": \"^1.0.0\",\n  \"@types/mocha\": \"^2.2.31\",\n  \"@types/power-assert\": \"0.0.27\",\n  \"awesome-typescript-loader\": \"^2.2.1\",\n  \"codecov\": \"^1.0.1\",\n  \"eslint\": \"^3.4.0\",\n  \"json-loader\": \"^0.5.4\",\n  \"karma\": \"^1.2.0\",\n  \"karma-coverage\": \"^1.1.1\",\n  \"karma-firefox-launcher\": \"^1.0.0\",\n  \"karma-mocha\": \"^1.1.1\",\n  \"karma-sourcemap-loader\": \"^0.3.7\",\n  \"karma-webpack\": \"^1.8.0\",\n  \"mocha\": \"^3.0.2\",\n  \"npm-run-all\": \"^3.0.0\",\n  \"power-assert\": \"^1.4.1\",\n  \"rimraf\": \"^2.5.4\",\n  \"tslint\": \"^3.15.1\",\n  \"typescript\": \"^2.0.2\",\n  \"webpack\": \"^1.13.2\",\n  \"webpack-espower-loader\": \"^1.0.1\"\n}\n"}],"position":{"start":{"line":8,"column":1,"offset":77},"end":{"line":33,"column":4,"offset":755}}}],"position":{"start":{"line":8,"column":1,"offset":77},"end":{"line":33,"column":4,"offset":755}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tsc"}],"position":{"start":{"line":35,"column":1,"offset":757},"end":{"line":35,"column":6,"offset":762}}},{"type":"text","value":" ・ ","position":{"start":{"line":35,"column":6,"offset":762},"end":{"line":35,"column":9,"offset":765}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"webpack"}],"position":{"start":{"line":35,"column":9,"offset":765},"end":{"line":35,"column":18,"offset":774}}},{"type":"text","value":" しても問題ないように見えるが、 ","position":{"start":{"line":35,"column":18,"offset":774},"end":{"line":35,"column":35,"offset":791}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"karma"}],"position":{"start":{"line":35,"column":35,"offset":791},"end":{"line":35,"column":42,"offset":798}}},{"type":"text","value":" を通した場合 ","position":{"start":{"line":35,"column":42,"offset":798},"end":{"line":35,"column":50,"offset":806}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SyntaxError"}],"position":{"start":{"line":35,"column":50,"offset":806},"end":{"line":35,"column":63,"offset":819}}},{"type":"text","value":" など出てきて非常に厳しい。","position":{"start":{"line":35,"column":63,"offset":819},"end":{"line":35,"column":77,"offset":833}}}],"position":{"start":{"line":35,"column":1,"offset":757},"end":{"line":35,"column":77,"offset":833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/karma-power-assert-typescript-mocha-webpack-sample"},"children":[{"type":"text","value":"https://github.com/9renpoto/karma-power-assert-typescript-mocha-webpack-sample","position":{"start":{"line":37,"column":2,"offset":836},"end":{"line":37,"column":80,"offset":914}}}],"position":{"start":{"line":37,"column":1,"offset":835},"end":{"line":37,"column":81,"offset":915}}}],"position":{"start":{"line":37,"column":1,"offset":835},"end":{"line":37,"column":81,"offset":915}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"同様の構成で先に検証頂いているものを発見するも、現在構成との違いの無さに\nこちらが動かない理由は不明、頭を悩ませる。","position":{"start":{"line":39,"column":1,"offset":917},"end":{"line":40,"column":22,"offset":975}}}],"position":{"start":{"line":39,"column":1,"offset":917},"end":{"line":40,"column":22,"offset":975}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}},"raw":"\n# 上手く動かない\n\n<https://travis-ci.org/9renpoto/ts/builds/156475663>\n\n- アバウトな構成\n\n```js\n\"devDependencies\": {\n  \"@9renpoto/eslint-config\": \"^1.1.0\",\n  \"@9renpoto/tslint-config\": \"^1.0.0\",\n  \"@types/mocha\": \"^2.2.31\",\n  \"@types/power-assert\": \"0.0.27\",\n  \"awesome-typescript-loader\": \"^2.2.1\",\n  \"codecov\": \"^1.0.1\",\n  \"eslint\": \"^3.4.0\",\n  \"json-loader\": \"^0.5.4\",\n  \"karma\": \"^1.2.0\",\n  \"karma-coverage\": \"^1.1.1\",\n  \"karma-firefox-launcher\": \"^1.0.0\",\n  \"karma-mocha\": \"^1.1.1\",\n  \"karma-sourcemap-loader\": \"^0.3.7\",\n  \"karma-webpack\": \"^1.8.0\",\n  \"mocha\": \"^3.0.2\",\n  \"npm-run-all\": \"^3.0.0\",\n  \"power-assert\": \"^1.4.1\",\n  \"rimraf\": \"^2.5.4\",\n  \"tslint\": \"^3.15.1\",\n  \"typescript\": \"^2.0.2\",\n  \"webpack\": \"^1.13.2\",\n  \"webpack-espower-loader\": \"^1.0.1\"\n}\n```\n\n`tsc` ・ `webpack` しても問題ないように見えるが、 `karma` を通した場合 `SyntaxError` など出てきて非常に厳しい。\n\n<https://github.com/9renpoto/karma-power-assert-typescript-mocha-webpack-sample>\n\n同様の構成で先に検証頂いているものを発見するも、現在構成との違いの無さに\nこちらが動かない理由は不明、頭を悩ませる。\n"}