{"data":{"date":"2016-09-13T12:38:08.000Z","permalink":"/entry/2016/09/13/storybook/","title":"storybook を TypeScript で動かす","category":"react","_entry":"posts/js/2016-09-13-storybook.md","page":"post","name":"storybook","url":"/entry/2016/09/13/storybook/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"React Storybookを試す"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"TL;DR"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"react-storybookはcomponentのstyleguide"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"TypeScriptのままでは動かせないので一度ビルドする（2016/09現在）"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"addon拡張で開発が便利になるエコシステムはある"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"途中経過"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/style/tree/aab6f82ccb228a6b56a18223f6f66bf0f3bd78b1"},"children":[{"type":"text","value":"9renpoto/style"}]}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"storybook"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"stories"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" して一覧ページがカジュアルに作成できる"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gh-pages"}]},{"type":"text","value":" などで簡単にホストできる"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"HMR"}]},{"type":"text","value":" ができるのはありがたい"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"いろいろwatchしたくなる"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"webpack"}]},{"type":"text","value":" にどっぷり依存"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"TypeScript with React"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://gfx.hatenablog.com/entry/2016/09/12/162055"},"children":[{"type":"text","value":"2016 年 9 月現在だと React アプリの TypeScript 採用は時期尚早"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"確かに現状の型定義は古い"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"まだそこで困るほどReact使いこなせていない"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"緩く型を信じる・困ったら考える（個人では）"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tsx"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"サポートありがたい"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"DOMを型付きで定義できることの安心感"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"テストを書くのは意識高めになる必要がある"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"便利だけど遅い"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"webpack"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"古いloaderが増えてきたex. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ts-loader"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ts-loader"}]},{"type":"text","value":" などでwatchはできないので "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tsc -w"}]},{"type":"text","value":" で様子を見る"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ガッツリ依存せず疎結合にできるところは疎結合にする"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"CSS-module"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"基本的に使わない方が良さそう"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"使う場合は構造化cssとして育てるのではなく、 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"local"}]},{"type":"text","value":" cssとしてビルドしたほうが良さそう"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SDKなどで利用するのはアリ"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Refs"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://developer.hatenastaff.com/entry/2016/04/14/150000"},"children":[{"type":"text","value":"react-storybook を用いた React コンポーネント開発"}]}]}],"data":{"quirksMode":false}},"raw":"\n# React Storybookを試す\n\n## TL;DR\n\n- react-storybookはcomponentのstyleguide\n- TypeScriptのままでは動かせないので一度ビルドする（2016/09現在）\n- addon拡張で開発が便利になるエコシステムはある\n- 途中経過\n  - [9renpoto/style](https://github.com/9renpoto/style/tree/aab6f82ccb228a6b56a18223f6f66bf0f3bd78b1)\n\n## storybook\n\n- `stories`\n  - `add` して一覧ページがカジュアルに作成できる\n  - `gh-pages` などで簡単にホストできる\n  - `HMR` ができるのはありがたい\n    - いろいろwatchしたくなる\n- `webpack` にどっぷり依存\n\n## TypeScript with React\n\n- [2016 年 9 月現在だと React アプリの TypeScript 採用は時期尚早](https://gfx.hatenablog.com/entry/2016/09/12/162055)\n  - 確かに現状の型定義は古い\n  - まだそこで困るほどReact使いこなせていない\n  - 緩く型を信じる・困ったら考える（個人では）\n- `tsx`\n  - サポートありがたい\n  - DOMを型付きで定義できることの安心感\n    - テストを書くのは意識高めになる必要がある\n  - 便利だけど遅い\n- `webpack`\n  - 古いloaderが増えてきたex. `ts-loader`\n  - `ts-loader` などでwatchはできないので `tsc -w` で様子を見る\n  - ガッツリ依存せず疎結合にできるところは疎結合にする\n\n## CSS-module\n\n- 基本的に使わない方が良さそう\n- 使う場合は構造化cssとして育てるのではなく、 `local` cssとしてビルドしたほうが良さそう\n  - SDKなどで利用するのはアリ\n\n## Refs\n\n[react-storybook を用いた React コンポーネント開発](http://developer.hatenastaff.com/entry/2016/04/14/150000)\n"}