{"data":{"date":"2017-05-14T13:39:17.000Z","permalink":"/entry/2017/05/14/slack-channel-active-reminder/","title":"アクティブでなさそうなSlackチャンネルをArchiveお願いする","category":"js","_entry":"posts/js/2017-05-14-slack-channel-active-reminder.md","page":"post","name":"slack-channel-active-reminder","url":"/entry/2017/05/14/slack-channel-active-reminder/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"slack-channel-active-reminder"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"書いたもの： "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/slack-channel-active-reminder"},"children":[{"type":"text","value":"https://github.com/9renpoto/slack-channel-active-reminder"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/static/slack-channel-active-reminder.png","alt":"image"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"slackの部屋は便利に増やしていけますが、\n同じような部屋が散乱したり、入ってみたものの活動が薄かったり様々あるので\n一定時間発言がない部屋に対してメッセージを送りつけるようなものを書いた。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Usage"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cronなどと合わせて仕込んで良いタイミングで発言がなさそうなところに対してメッセージを送る。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"const CronJob = require(\"cron\").CronJob;\nconst Reminder = require(\"slack-channel-active-reminder\").default;\n\nconst reminder = new Reminder();\n\nconst job = new CronJob({\n  cronTime: \"0 00 18 * * 1-5\",\n  onTick: function() {\n    reminder.postRemindMessage();\n  },\n  start: false,\n  timeZone: \"Asia/Tokyo\"\n});\njob.start();\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"中身は "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"@slack/client"}]},{"type":"text","value":" を使っているだけ。\n便利なAPIが多いと助かる。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"追記"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/slack-channel-active-reminder/pull/9"},"children":[{"type":"text","value":"https://github.com/9renpoto/slack-channel-active-reminder/pull/9"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"flow gen-flow-files"}]},{"type":"text","value":" が良いものをだしてくれないため外す。\n早く1.0が待ち遠しい。"}]}],"data":{"quirksMode":false}},"raw":"\n# slack-channel-active-reminder\n\n書いたもの： <https://github.com/9renpoto/slack-channel-active-reminder>\n\n![image](/static/slack-channel-active-reminder.png)\n\nslackの部屋は便利に増やしていけますが、\n同じような部屋が散乱したり、入ってみたものの活動が薄かったり様々あるので\n一定時間発言がない部屋に対してメッセージを送りつけるようなものを書いた。\n\n## Usage\n\nCronなどと合わせて仕込んで良いタイミングで発言がなさそうなところに対してメッセージを送る。\n\n```javascript\nconst CronJob = require(\"cron\").CronJob;\nconst Reminder = require(\"slack-channel-active-reminder\").default;\n\nconst reminder = new Reminder();\n\nconst job = new CronJob({\n  cronTime: \"0 00 18 * * 1-5\",\n  onTick: function() {\n    reminder.postRemindMessage();\n  },\n  start: false,\n  timeZone: \"Asia/Tokyo\"\n});\njob.start();\n```\n\n中身は `@slack/client` を使っているだけ。\n便利なAPIが多いと助かる。\n\n## 追記\n\n<https://github.com/9renpoto/slack-channel-active-reminder/pull/9>\n\n`flow gen-flow-files` が良いものをだしてくれないため外す。\n早く1.0が待ち遠しい。\n"}