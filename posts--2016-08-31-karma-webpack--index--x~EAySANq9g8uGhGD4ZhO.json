{"data":{"date":"2016-08-31T12:26:35.000Z","permalink":"/entry/2016/08/31/karma-webpack/","title":"TypeScript のテスト環境を考える","categories":["typescript","karma","mocha","power-assert"],"_entry":"posts/2016-08-31-karma-webpack/index.md","page":"post","name":"index","category":"2016-08-31-karma-webpack","url":"/entry/2016/08/31/karma-webpack/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"上手く動かない","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":10,"offset":9}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":10,"offset":9}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://travis-ci.org/9renpoto/ts/builds/156475663"},"children":[{"type":"text","value":"https://travis-ci.org/9renpoto/ts/builds/156475663","position":{"start":{"line":3,"column":2,"offset":12},"end":{"line":3,"column":52,"offset":62}}}],"position":{"start":{"line":3,"column":1,"offset":11},"end":{"line":3,"column":53,"offset":63}}}],"position":{"start":{"line":3,"column":1,"offset":11},"end":{"line":3,"column":53,"offset":63}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"アバウトな構成","position":{"start":{"line":5,"column":3,"offset":67},"end":{"line":5,"column":10,"offset":74}}}],"position":{"start":{"line":5,"column":1,"offset":65},"end":{"line":5,"column":10,"offset":74}}},{"type":"text","value":"\n"}],"position":{"start":{"line":5,"column":1,"offset":65},"end":{"line":5,"column":10,"offset":74}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"\"devDependencies\": {\n  \"@9renpoto/eslint-config\": \"^1.1.0\",\n  \"@9renpoto/tslint-config\": \"^1.0.0\",\n  \"@types/mocha\": \"^2.2.31\",\n  \"@types/power-assert\": \"0.0.27\",\n  \"awesome-typescript-loader\": \"^2.2.1\",\n  \"codecov\": \"^1.0.1\",\n  \"eslint\": \"^3.4.0\",\n  \"json-loader\": \"^0.5.4\",\n  \"karma\": \"^1.2.0\",\n  \"karma-coverage\": \"^1.1.1\",\n  \"karma-firefox-launcher\": \"^1.0.0\",\n  \"karma-mocha\": \"^1.1.1\",\n  \"karma-sourcemap-loader\": \"^0.3.7\",\n  \"karma-webpack\": \"^1.8.0\",\n  \"mocha\": \"^3.0.2\",\n  \"npm-run-all\": \"^3.0.0\",\n  \"power-assert\": \"^1.4.1\",\n  \"rimraf\": \"^2.5.4\",\n  \"tslint\": \"^3.15.1\",\n  \"typescript\": \"^2.0.2\",\n  \"webpack\": \"^1.13.2\",\n  \"webpack-espower-loader\": \"^1.0.1\"\n}\n"}],"position":{"start":{"line":7,"column":1,"offset":76},"end":{"line":32,"column":4,"offset":754}}}],"position":{"start":{"line":7,"column":1,"offset":76},"end":{"line":32,"column":4,"offset":754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tsc"}],"position":{"start":{"line":34,"column":1,"offset":756},"end":{"line":34,"column":6,"offset":761}}},{"type":"text","value":" ・ ","position":{"start":{"line":34,"column":6,"offset":761},"end":{"line":34,"column":9,"offset":764}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"webpack"}],"position":{"start":{"line":34,"column":9,"offset":764},"end":{"line":34,"column":18,"offset":773}}},{"type":"text","value":" しても問題ないように見えるが、 ","position":{"start":{"line":34,"column":18,"offset":773},"end":{"line":34,"column":35,"offset":790}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"karma"}],"position":{"start":{"line":34,"column":35,"offset":790},"end":{"line":34,"column":42,"offset":797}}},{"type":"text","value":" を通した場合 ","position":{"start":{"line":34,"column":42,"offset":797},"end":{"line":34,"column":50,"offset":805}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SyntaxError"}],"position":{"start":{"line":34,"column":50,"offset":805},"end":{"line":34,"column":63,"offset":818}}},{"type":"text","value":" など出てきて非常に厳しい。","position":{"start":{"line":34,"column":63,"offset":818},"end":{"line":34,"column":77,"offset":832}}}],"position":{"start":{"line":34,"column":1,"offset":756},"end":{"line":34,"column":77,"offset":832}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/karma-power-assert-typescript-mocha-webpack-sample"},"children":[{"type":"text","value":"https://github.com/9renpoto/karma-power-assert-typescript-mocha-webpack-sample","position":{"start":{"line":36,"column":2,"offset":835},"end":{"line":36,"column":80,"offset":913}}}],"position":{"start":{"line":36,"column":1,"offset":834},"end":{"line":36,"column":81,"offset":914}}}],"position":{"start":{"line":36,"column":1,"offset":834},"end":{"line":36,"column":81,"offset":914}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"同様の構成で先に検証頂いているものを発見するも、現在構成との違いの無さに\nこちらが動かない理由は不明、頭を悩ませる。","position":{"start":{"line":38,"column":1,"offset":916},"end":{"line":39,"column":22,"offset":974}}}],"position":{"start":{"line":38,"column":1,"offset":916},"end":{"line":39,"column":22,"offset":974}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}},"raw":"# 上手く動かない\n\n<https://travis-ci.org/9renpoto/ts/builds/156475663>\n\n- アバウトな構成\n\n```js\n\"devDependencies\": {\n  \"@9renpoto/eslint-config\": \"^1.1.0\",\n  \"@9renpoto/tslint-config\": \"^1.0.0\",\n  \"@types/mocha\": \"^2.2.31\",\n  \"@types/power-assert\": \"0.0.27\",\n  \"awesome-typescript-loader\": \"^2.2.1\",\n  \"codecov\": \"^1.0.1\",\n  \"eslint\": \"^3.4.0\",\n  \"json-loader\": \"^0.5.4\",\n  \"karma\": \"^1.2.0\",\n  \"karma-coverage\": \"^1.1.1\",\n  \"karma-firefox-launcher\": \"^1.0.0\",\n  \"karma-mocha\": \"^1.1.1\",\n  \"karma-sourcemap-loader\": \"^0.3.7\",\n  \"karma-webpack\": \"^1.8.0\",\n  \"mocha\": \"^3.0.2\",\n  \"npm-run-all\": \"^3.0.0\",\n  \"power-assert\": \"^1.4.1\",\n  \"rimraf\": \"^2.5.4\",\n  \"tslint\": \"^3.15.1\",\n  \"typescript\": \"^2.0.2\",\n  \"webpack\": \"^1.13.2\",\n  \"webpack-espower-loader\": \"^1.0.1\"\n}\n```\n\n`tsc` ・ `webpack` しても問題ないように見えるが、 `karma` を通した場合 `SyntaxError` など出てきて非常に厳しい。\n\n<https://github.com/9renpoto/karma-power-assert-typescript-mocha-webpack-sample>\n\n同様の構成で先に検証頂いているものを発見するも、現在構成との違いの無さに\nこちらが動かない理由は不明、頭を悩ませる。\n"}