{"data":{"title":"ComponentとContainers","date":"2017-10-10T13:30:00.000Z","permalink":"/entry/2017/10/10/component/","category":"react","_entry":"posts/js/2017-10-10-component.md","page":"post","name":"component","url":"/entry/2017/10/10/component/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"TL;DR","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":8,"offset":8}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":8,"offset":8}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Reactの場合","position":{"start":{"line":4,"column":3,"offset":12},"end":{"line":4,"column":11,"offset":20}}},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"見た目に必要なものはJSXだけで ","position":{"start":{"line":5,"column":5,"offset":25},"end":{"line":5,"column":22,"offset":42}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Component"}],"position":{"start":{"line":5,"column":22,"offset":42},"end":{"line":5,"column":33,"offset":53}}},{"type":"text","value":" である必要はない","position":{"start":{"line":5,"column":33,"offset":53},"end":{"line":5,"column":42,"offset":62}}}],"position":{"start":{"line":5,"column":3,"offset":23},"end":{"line":5,"column":42,"offset":62}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Component"}],"position":{"start":{"line":6,"column":5,"offset":67},"end":{"line":6,"column":16,"offset":78}}},{"type":"text","value":" はライフサイクルを持つ","position":{"start":{"line":6,"column":16,"offset":78},"end":{"line":6,"column":28,"offset":90}}}],"position":{"start":{"line":6,"column":3,"offset":65},"end":{"line":6,"column":28,"offset":90}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Containers"}],"position":{"start":{"line":7,"column":5,"offset":95},"end":{"line":7,"column":17,"offset":107}}},{"type":"text","value":" はデータとの関係性を持つ","position":{"start":{"line":7,"column":17,"offset":107},"end":{"line":7,"column":30,"offset":120}}}],"position":{"start":{"line":7,"column":3,"offset":93},"end":{"line":7,"column":30,"offset":120}}},{"type":"text","value":"\n"}],"position":{"start":{"line":5,"column":3,"offset":23},"end":{"line":7,"column":30,"offset":120}}}],"position":{"start":{"line":4,"column":1,"offset":10},"end":{"line":7,"column":30,"offset":120}}},{"type":"text","value":"\n"}],"position":{"start":{"line":4,"column":1,"offset":10},"end":{"line":7,"column":30,"offset":120}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Functional Component","position":{"start":{"line":9,"column":4,"offset":125},"end":{"line":9,"column":24,"offset":145}}}],"position":{"start":{"line":9,"column":1,"offset":122},"end":{"line":9,"column":24,"offset":145}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Reactのドキュメントを読んでいると","position":{"start":{"line":11,"column":3,"offset":149},"end":{"line":11,"column":22,"offset":168}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"React.Component"}],"position":{"start":{"line":11,"column":22,"offset":168},"end":{"line":11,"column":39,"offset":185}}},{"type":"text","value":"をextendsして書く必要があるのかと勘違い","position":{"start":{"line":11,"column":39,"offset":185},"end":{"line":11,"column":62,"offset":208}}}],"position":{"start":{"line":11,"column":1,"offset":147},"end":{"line":11,"column":62,"offset":208}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"DOMの定義を書くことはJSXのsyntaxだけで完結されている","position":{"start":{"line":12,"column":3,"offset":211},"end":{"line":12,"column":35,"offset":243}}}],"position":{"start":{"line":12,"column":1,"offset":209},"end":{"line":12,"column":35,"offset":243}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"JSXで書かれたものとCSSを紐付けたもとを ","position":{"start":{"line":13,"column":3,"offset":246},"end":{"line":13,"column":26,"offset":269}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"見た目","position":{"start":{"line":13,"column":28,"offset":271},"end":{"line":13,"column":31,"offset":274}}}],"position":{"start":{"line":13,"column":26,"offset":269},"end":{"line":13,"column":33,"offset":276}}},{"type":"text","value":" と記述した場合","position":{"start":{"line":13,"column":33,"offset":276},"end":{"line":13,"column":41,"offset":284}}},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"見た目はどこのデータに紐付けられるか定かでないため、ライフサイクルを自身で定義するべきではない","position":{"start":{"line":14,"column":5,"offset":289},"end":{"line":14,"column":52,"offset":336}}}],"position":{"start":{"line":14,"column":3,"offset":287},"end":{"line":14,"column":52,"offset":336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"データを渡してtreeを構築するために必要な情報を返すだけでよい","position":{"start":{"line":15,"column":5,"offset":341},"end":{"line":15,"column":37,"offset":373}}}],"position":{"start":{"line":15,"column":3,"offset":339},"end":{"line":15,"column":37,"offset":373}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/style/pull/228"},"children":[{"type":"text","value":"https://github.com/9renpoto/style/pull/228","position":{"start":{"line":16,"column":6,"offset":379},"end":{"line":16,"column":48,"offset":421}}}],"position":{"start":{"line":16,"column":5,"offset":378},"end":{"line":16,"column":49,"offset":422}}}],"position":{"start":{"line":16,"column":3,"offset":376},"end":{"line":16,"column":49,"offset":422}}},{"type":"text","value":"\n"}],"position":{"start":{"line":14,"column":3,"offset":287},"end":{"line":16,"column":49,"offset":422}}}],"position":{"start":{"line":13,"column":1,"offset":244},"end":{"line":16,"column":49,"offset":422}}},{"type":"text","value":"\n"}],"position":{"start":{"line":11,"column":1,"offset":147},"end":{"line":16,"column":49,"offset":422}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Component","position":{"start":{"line":18,"column":4,"offset":427},"end":{"line":18,"column":13,"offset":436}}}],"position":{"start":{"line":18,"column":1,"offset":424},"end":{"line":18,"column":13,"offset":436}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ライフサイクルと見た目を紐付けることに集中する","position":{"start":{"line":20,"column":3,"offset":440},"end":{"line":20,"column":26,"offset":463}}}],"position":{"start":{"line":20,"column":1,"offset":438},"end":{"line":20,"column":26,"offset":463}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"自分が実現したいライフサイクルを実現できるか考慮して、コンポーネントの大きさを決める","position":{"start":{"line":21,"column":3,"offset":466},"end":{"line":21,"column":45,"offset":508}}}],"position":{"start":{"line":21,"column":1,"offset":464},"end":{"line":21,"column":45,"offset":508}}},{"type":"text","value":"\n"}],"position":{"start":{"line":20,"column":1,"offset":438},"end":{"line":21,"column":45,"offset":508}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Containers","position":{"start":{"line":23,"column":4,"offset":513},"end":{"line":23,"column":14,"offset":523}}}],"position":{"start":{"line":23,"column":1,"offset":510},"end":{"line":23,"column":14,"offset":523}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"データを紐付けるだけ","position":{"start":{"line":25,"column":3,"offset":527},"end":{"line":25,"column":13,"offset":537}}}],"position":{"start":{"line":25,"column":1,"offset":525},"end":{"line":25,"column":13,"offset":537}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Reduxを使った場合、","position":{"start":{"line":26,"column":3,"offset":540},"end":{"line":26,"column":15,"offset":552}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Component"}],"position":{"start":{"line":26,"column":15,"offset":552},"end":{"line":26,"column":26,"offset":563}}},{"type":"text","value":" とは完全に疎結合に定義できる","position":{"start":{"line":26,"column":26,"offset":563},"end":{"line":26,"column":41,"offset":578}}}],"position":{"start":{"line":26,"column":1,"offset":538},"end":{"line":26,"column":41,"offset":578}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ライフサイクルを意識した必要なデータは ","position":{"start":{"line":27,"column":3,"offset":581},"end":{"line":27,"column":23,"offset":601}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Component"}],"position":{"start":{"line":27,"column":23,"offset":601},"end":{"line":27,"column":34,"offset":612}}},{"type":"text","value":" の中にあるため、素直にデータを紐付ける","position":{"start":{"line":27,"column":34,"offset":612},"end":{"line":27,"column":54,"offset":632}}}],"position":{"start":{"line":27,"column":1,"offset":579},"end":{"line":27,"column":54,"offset":632}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"初期状態の記述には気をつける","position":{"start":{"line":28,"column":3,"offset":635},"end":{"line":28,"column":17,"offset":649}}}],"position":{"start":{"line":28,"column":1,"offset":633},"end":{"line":28,"column":17,"offset":649}}},{"type":"text","value":"\n"}],"position":{"start":{"line":25,"column":1,"offset":525},"end":{"line":28,"column":17,"offset":649}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"まとめ","position":{"start":{"line":30,"column":4,"offset":654},"end":{"line":30,"column":7,"offset":657}}}],"position":{"start":{"line":30,"column":1,"offset":651},"end":{"line":30,"column":7,"offset":657}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"世界はよく考えられている","position":{"start":{"line":32,"column":3,"offset":661},"end":{"line":32,"column":15,"offset":673}}}],"position":{"start":{"line":32,"column":1,"offset":659},"end":{"line":32,"column":15,"offset":673}}},{"type":"text","value":"\n"}],"position":{"start":{"line":32,"column":1,"offset":659},"end":{"line":32,"column":15,"offset":673}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://media.giphy.com/media/RJXHcsfHNtpkY/giphy.gif","alt":"img"},"children":[],"position":{"start":{"line":34,"column":1,"offset":675},"end":{"line":34,"column":62,"offset":736}}}],"position":{"start":{"line":34,"column":1,"offset":675},"end":{"line":34,"column":62,"offset":736}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}},"raw":"\n# TL;DR\n\n- Reactの場合\n  - 見た目に必要なものはJSXだけで `Component` である必要はない\n  - `Component` はライフサイクルを持つ\n  - `Containers` はデータとの関係性を持つ\n\n## Functional Component\n\n- Reactのドキュメントを読んでいると`React.Component`をextendsして書く必要があるのかと勘違い\n- DOMの定義を書くことはJSXのsyntaxだけで完結されている\n- JSXで書かれたものとCSSを紐付けたもとを **見た目** と記述した場合\n  - 見た目はどこのデータに紐付けられるか定かでないため、ライフサイクルを自身で定義するべきではない\n  - データを渡してtreeを構築するために必要な情報を返すだけでよい\n  - <https://github.com/9renpoto/style/pull/228>\n\n## Component\n\n- ライフサイクルと見た目を紐付けることに集中する\n- 自分が実現したいライフサイクルを実現できるか考慮して、コンポーネントの大きさを決める\n\n## Containers\n\n- データを紐付けるだけ\n- Reduxを使った場合、`Component` とは完全に疎結合に定義できる\n- ライフサイクルを意識した必要なデータは `Component` の中にあるため、素直にデータを紐付ける\n- 初期状態の記述には気をつける\n\n## まとめ\n\n- 世界はよく考えられている\n\n![img](https://media.giphy.com/media/RJXHcsfHNtpkY/giphy.gif)\n"}