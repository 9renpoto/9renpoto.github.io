{"data":{"title":"Frontend JavaScript Anti-pattern","date":"2017-10-31T14:00:00.000Z","permalink":"/entry/2017/10/31/frontend-javascript-anti-pattern/","_entry":"posts/2017-10-31-frontend-js-anti-pattern/index.md","page":"post","name":"index","category":"2017-10-31-frontend-js-anti-pattern","url":"/entry/2017/10/31/frontend-javascript-anti-pattern/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"TL;DR","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":8,"offset":7}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":8,"offset":7}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"自分のエゴで書いてる手癖や無駄な努力をコードレビューするのは非生産的","position":{"start":{"line":3,"column":3,"offset":11},"end":{"line":3,"column":37,"offset":45}}}],"position":{"start":{"line":3,"column":1,"offset":9},"end":{"line":3,"column":37,"offset":45}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"積極的にlinterを採用","position":{"start":{"line":4,"column":3,"offset":48},"end":{"line":4,"column":16,"offset":61}}}],"position":{"start":{"line":4,"column":1,"offset":46},"end":{"line":4,"column":16,"offset":61}}},{"type":"text","value":"\n"}],"position":{"start":{"line":3,"column":1,"offset":9},"end":{"line":4,"column":16,"offset":61}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"test","position":{"start":{"line":6,"column":4,"offset":66},"end":{"line":6,"column":8,"offset":70}}}],"position":{"start":{"line":6,"column":1,"offset":63},"end":{"line":6,"column":8,"offset":70}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"import assert from 'assert'\n\ndescribe('test', () => {\n  const { func } = require('./module')\n  it('func', () => {\n    assert(func('a') === 'a')\n  })\n})\n"}],"position":{"start":{"line":8,"column":1,"offset":72},"end":{"line":17,"column":4,"offset":233}}}],"position":{"start":{"line":8,"column":1,"offset":72},"end":{"line":17,"column":4,"offset":233}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"1ファイル、single ","position":{"start":{"line":19,"column":4,"offset":238},"end":{"line":19,"column":17,"offset":251}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"describe"}],"position":{"start":{"line":19,"column":17,"offset":251},"end":{"line":19,"column":27,"offset":261}}}],"position":{"start":{"line":19,"column":4,"offset":238},"end":{"line":19,"column":27,"offset":261}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"親を1つ ","position":{"start":{"line":20,"column":8,"offset":269},"end":{"line":20,"column":13,"offset":274}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"describe.skip"}],"position":{"start":{"line":20,"column":13,"offset":274},"end":{"line":20,"column":28,"offset":289}}},{"type":"text","value":" ","position":{"start":{"line":20,"column":28,"offset":289},"end":{"line":20,"column":29,"offset":290}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"describe.only"}],"position":{"start":{"line":20,"column":29,"offset":290},"end":{"line":20,"column":44,"offset":305}}},{"type":"text","value":" できれば一旦闇を保留にできることが多い","position":{"start":{"line":20,"column":44,"offset":305},"end":{"line":20,"column":64,"offset":325}}}],"position":{"start":{"line":20,"column":5,"offset":266},"end":{"line":20,"column":64,"offset":325}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"1ファイルの持っている役割が大きすぎない、特に困っていない","position":{"start":{"line":21,"column":8,"offset":333},"end":{"line":21,"column":37,"offset":362}}}],"position":{"start":{"line":21,"column":5,"offset":330},"end":{"line":21,"column":37,"offset":362}}},{"type":"text","value":"\n"}],"position":{"start":{"line":20,"column":5,"offset":266},"end":{"line":21,"column":37,"offset":362}}},{"type":"text","value":"\n"}],"position":{"start":{"line":19,"column":1,"offset":235},"end":{"line":21,"column":37,"offset":362}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"テスト対象は ","position":{"start":{"line":22,"column":4,"offset":366},"end":{"line":22,"column":11,"offset":373}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"describe"}],"position":{"start":{"line":22,"column":11,"offset":373},"end":{"line":22,"column":21,"offset":383}}},{"type":"text","value":" の中でrequireする","position":{"start":{"line":22,"column":21,"offset":383},"end":{"line":22,"column":34,"offset":396}}}],"position":{"start":{"line":22,"column":4,"offset":366},"end":{"line":22,"column":34,"offset":396}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"describe.only"}],"position":{"start":{"line":23,"column":8,"offset":404},"end":{"line":23,"column":23,"offset":419}}},{"type":"text","value":" 実行をした際に不要なsrcを読み込まなくて良い","position":{"start":{"line":23,"column":23,"offset":419},"end":{"line":23,"column":47,"offset":443}}}],"position":{"start":{"line":23,"column":5,"offset":401},"end":{"line":23,"column":47,"offset":443}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"読み込まれただけで実行される関数はcoverageに含まれてしまう","position":{"start":{"line":24,"column":8,"offset":451},"end":{"line":24,"column":41,"offset":484}}}],"position":{"start":{"line":24,"column":5,"offset":448},"end":{"line":24,"column":41,"offset":484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"coverage report"}],"position":{"start":{"line":25,"column":8,"offset":492},"end":{"line":25,"column":25,"offset":509}}},{"type":"text","value":" が読みやすい","position":{"start":{"line":25,"column":25,"offset":509},"end":{"line":25,"column":32,"offset":516}}}],"position":{"start":{"line":25,"column":5,"offset":489},"end":{"line":25,"column":32,"offset":516}}},{"type":"text","value":"\n"}],"position":{"start":{"line":23,"column":5,"offset":401},"end":{"line":25,"column":32,"offset":516}}},{"type":"text","value":"\n"}],"position":{"start":{"line":22,"column":1,"offset":363},"end":{"line":25,"column":32,"offset":516}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"this"}],"position":{"start":{"line":26,"column":4,"offset":520},"end":{"line":26,"column":10,"offset":526}}},{"type":"text","value":" を使わない","position":{"start":{"line":26,"column":10,"offset":526},"end":{"line":26,"column":16,"offset":532}}}],"position":{"start":{"line":26,"column":4,"offset":520},"end":{"line":26,"column":16,"offset":532}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"unused変数をlintで発見しやすい","position":{"start":{"line":27,"column":8,"offset":540},"end":{"line":27,"column":28,"offset":560}}}],"position":{"start":{"line":27,"column":5,"offset":537},"end":{"line":27,"column":28,"offset":560}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"長い","position":{"start":{"line":28,"column":8,"offset":568},"end":{"line":28,"column":10,"offset":570}}}],"position":{"start":{"line":28,"column":5,"offset":565},"end":{"line":28,"column":10,"offset":570}}},{"type":"text","value":"\n"}],"position":{"start":{"line":27,"column":5,"offset":537},"end":{"line":28,"column":10,"offset":570}}},{"type":"text","value":"\n"}],"position":{"start":{"line":26,"column":1,"offset":517},"end":{"line":28,"column":10,"offset":570}}},{"type":"text","value":"\n"}],"position":{"start":{"line":19,"column":1,"offset":235},"end":{"line":28,"column":10,"offset":570}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"src","position":{"start":{"line":30,"column":4,"offset":575},"end":{"line":30,"column":7,"offset":578}}}],"position":{"start":{"line":30,"column":1,"offset":572},"end":{"line":30,"column":7,"offset":578}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function mapStateToProps ({ todos }: State) {\n  return {\n    tasks: { todos },\n    onUpdate: id => todos[id].done()\n  }\n}\n"}],"position":{"start":{"line":32,"column":1,"offset":580},"end":{"line":39,"column":4,"offset":711}}}],"position":{"start":{"line":32,"column":1,"offset":580},"end":{"line":39,"column":4,"offset":711}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"arrow function"}],"position":{"start":{"line":41,"column":4,"offset":716},"end":{"line":41,"column":20,"offset":732}}},{"type":"text","value":" vs ","position":{"start":{"line":41,"column":20,"offset":732},"end":{"line":41,"column":24,"offset":736}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function"}],"position":{"start":{"line":41,"column":24,"offset":736},"end":{"line":41,"column":34,"offset":746}}}],"position":{"start":{"line":41,"column":4,"offset":716},"end":{"line":41,"column":34,"offset":746}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"IE11を意識した場合、変換したら結局 ","position":{"start":{"line":42,"column":8,"offset":754},"end":{"line":42,"column":28,"offset":774}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function"}],"position":{"start":{"line":42,"column":28,"offset":774},"end":{"line":42,"column":38,"offset":784}}},{"type":"text","value":" となる","position":{"start":{"line":42,"column":38,"offset":784},"end":{"line":42,"column":42,"offset":788}}}],"position":{"start":{"line":42,"column":5,"offset":751},"end":{"line":42,"column":42,"offset":788}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"読みやすさと生成された後のコードを妄想しつつ相談","position":{"start":{"line":43,"column":8,"offset":796},"end":{"line":43,"column":32,"offset":820}}}],"position":{"start":{"line":43,"column":5,"offset":793},"end":{"line":43,"column":32,"offset":820}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"つい書きやすさと ","position":{"start":{"line":44,"column":8,"offset":828},"end":{"line":44,"column":17,"offset":837}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"return"}],"position":{"start":{"line":44,"column":17,"offset":837},"end":{"line":44,"column":25,"offset":845}}},{"type":"text","value":" の省略したさで ","position":{"start":{"line":44,"column":25,"offset":845},"end":{"line":44,"column":34,"offset":854}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"arrow function"}],"position":{"start":{"line":44,"column":34,"offset":854},"end":{"line":44,"column":50,"offset":870}}},{"type":"text","value":" を使うことも多い","position":{"start":{"line":44,"column":50,"offset":870},"end":{"line":44,"column":59,"offset":879}}}],"position":{"start":{"line":44,"column":5,"offset":825},"end":{"line":44,"column":59,"offset":879}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"読みやすければそれでいい気持ちになってきている","position":{"start":{"line":45,"column":8,"offset":887},"end":{"line":45,"column":31,"offset":910}}}],"position":{"start":{"line":45,"column":5,"offset":884},"end":{"line":45,"column":31,"offset":910}}},{"type":"text","value":"\n"}],"position":{"start":{"line":42,"column":5,"offset":751},"end":{"line":45,"column":31,"offset":910}}},{"type":"text","value":"\n"}],"position":{"start":{"line":41,"column":1,"offset":713},"end":{"line":45,"column":31,"offset":910}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"class"}],"position":{"start":{"line":46,"column":4,"offset":914},"end":{"line":46,"column":11,"offset":921}}},{"type":"text","value":" syntaxを避ける","position":{"start":{"line":46,"column":11,"offset":921},"end":{"line":46,"column":22,"offset":932}}}],"position":{"start":{"line":46,"column":4,"offset":914},"end":{"line":46,"column":22,"offset":932}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ライブラリを開発しているときには使うけれどプロダクトを書く時には意識する","position":{"start":{"line":47,"column":8,"offset":940},"end":{"line":47,"column":44,"offset":976}}}],"position":{"start":{"line":47,"column":5,"offset":937},"end":{"line":47,"column":44,"offset":976}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"結局 ","position":{"start":{"line":48,"column":8,"offset":984},"end":{"line":48,"column":11,"offset":987}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"this"}],"position":{"start":{"line":48,"column":11,"offset":987},"end":{"line":48,"column":17,"offset":993}}},{"type":"text","value":" に状態を持たせる意味がそのclassにあるかが大事","position":{"start":{"line":48,"column":17,"offset":993},"end":{"line":48,"column":43,"offset":1019}}}],"position":{"start":{"line":48,"column":5,"offset":981},"end":{"line":48,"column":43,"offset":1019}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ファイルサイズがデカくなる","position":{"start":{"line":49,"column":8,"offset":1027},"end":{"line":49,"column":21,"offset":1040}}}],"position":{"start":{"line":49,"column":5,"offset":1024},"end":{"line":49,"column":21,"offset":1040}}},{"type":"text","value":"\n"}],"position":{"start":{"line":47,"column":5,"offset":937},"end":{"line":49,"column":21,"offset":1040}}},{"type":"text","value":"\n"}],"position":{"start":{"line":46,"column":1,"offset":911},"end":{"line":49,"column":21,"offset":1040}}},{"type":"text","value":"\n"}],"position":{"start":{"line":41,"column":1,"offset":713},"end":{"line":49,"column":21,"offset":1040}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"var touch = 'touch'\n$('#id').on(`${touch}start ${touch}end`, e => {\n  console.log(e)\n})\n\nfunction a (element) {\n  // var element と書く３文字を省略して１文字にできる\n  element = document.getElementById('foo')\n  element.addEventListener('click', e => console.log(e))\n}\n"}],"position":{"start":{"line":51,"column":1,"offset":1042},"end":{"line":62,"column":4,"offset":1301}}}],"position":{"start":{"line":51,"column":1,"offset":1042},"end":{"line":62,"column":4,"offset":1301}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"長い文字列は変数で受けて結合する","position":{"start":{"line":64,"column":4,"offset":1306},"end":{"line":64,"column":20,"offset":1322}}}],"position":{"start":{"line":64,"column":4,"offset":1306},"end":{"line":64,"column":20,"offset":1322}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"小さいことを売りにしているライブラリで見る","position":{"start":{"line":65,"column":8,"offset":1330},"end":{"line":65,"column":29,"offset":1351}}}],"position":{"start":{"line":65,"column":5,"offset":1327},"end":{"line":65,"column":29,"offset":1351}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"計算量も大事だが地道なファイルサイズ対策","position":{"start":{"line":66,"column":8,"offset":1359},"end":{"line":66,"column":28,"offset":1379}}}],"position":{"start":{"line":66,"column":5,"offset":1356},"end":{"line":66,"column":28,"offset":1379}}},{"type":"text","value":"\n"}],"position":{"start":{"line":65,"column":5,"offset":1327},"end":{"line":66,"column":28,"offset":1379}}},{"type":"text","value":"\n"}],"position":{"start":{"line":64,"column":1,"offset":1303},"end":{"line":66,"column":28,"offset":1379}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"無駄な引数を定義する","position":{"start":{"line":67,"column":4,"offset":1383},"end":{"line":67,"column":14,"offset":1393}}}],"position":{"start":{"line":67,"column":4,"offset":1383},"end":{"line":67,"column":14,"offset":1393}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"変数定義分の文字列を節約させる","position":{"start":{"line":68,"column":8,"offset":1401},"end":{"line":68,"column":23,"offset":1416}}}],"position":{"start":{"line":68,"column":5,"offset":1398},"end":{"line":68,"column":23,"offset":1416}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"htmlのタグなどを書く際に利用されている場合がある","position":{"start":{"line":69,"column":8,"offset":1424},"end":{"line":69,"column":34,"offset":1450}}}],"position":{"start":{"line":69,"column":5,"offset":1421},"end":{"line":69,"column":34,"offset":1450}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"linterで積極的に使うなと怒られる（怒られる方が平和）","position":{"start":{"line":70,"column":8,"offset":1458},"end":{"line":70,"column":37,"offset":1487}}}],"position":{"start":{"line":70,"column":5,"offset":1455},"end":{"line":70,"column":37,"offset":1487}}},{"type":"text","value":"\n"}],"position":{"start":{"line":68,"column":5,"offset":1398},"end":{"line":70,"column":37,"offset":1487}}},{"type":"text","value":"\n"}],"position":{"start":{"line":67,"column":1,"offset":1380},"end":{"line":70,"column":37,"offset":1487}}},{"type":"text","value":"\n"}],"position":{"start":{"line":64,"column":1,"offset":1303},"end":{"line":70,"column":37,"offset":1487}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"まとめ","position":{"start":{"line":72,"column":4,"offset":1492},"end":{"line":72,"column":7,"offset":1495}}}],"position":{"start":{"line":72,"column":1,"offset":1489},"end":{"line":72,"column":7,"offset":1495}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"圧倒的老害感。","position":{"start":{"line":74,"column":1,"offset":1497},"end":{"line":74,"column":8,"offset":1504}}}],"position":{"start":{"line":74,"column":1,"offset":1497},"end":{"line":74,"column":8,"offset":1504}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"http://4.bp.blogspot.com/-foiW8aYeL6s/VzZu-o6sxnI/AAAAAAAA6oQ/LHXzT0WsAX8LtB_U-msHk572kC_rY3VawCLcB/s800/mental_health_man.png","alt":"image"},"children":[],"position":{"start":{"line":76,"column":1,"offset":1506},"end":{"line":76,"column":137,"offset":1642}}}],"position":{"start":{"line":76,"column":1,"offset":1506},"end":{"line":76,"column":137,"offset":1642}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}},"raw":"# TL;DR\n\n- 自分のエゴで書いてる手癖や無駄な努力をコードレビューするのは非生産的\n- 積極的にlinterを採用\n\n## test\n\n```js\nimport assert from 'assert'\n\ndescribe('test', () => {\n  const { func } = require('./module')\n  it('func', () => {\n    assert(func('a') === 'a')\n  })\n})\n```\n\n1. 1ファイル、single `describe`\n    1. 親を1つ `describe.skip` `describe.only` できれば一旦闇を保留にできることが多い\n    1. 1ファイルの持っている役割が大きすぎない、特に困っていない\n1. テスト対象は `describe` の中でrequireする\n    1. `describe.only` 実行をした際に不要なsrcを読み込まなくて良い\n    1. 読み込まれただけで実行される関数はcoverageに含まれてしまう\n    1. `coverage report` が読みやすい\n1. `this` を使わない\n    1. unused変数をlintで発見しやすい\n    1. 長い\n\n## src\n\n```js\nfunction mapStateToProps ({ todos }: State) {\n  return {\n    tasks: { todos },\n    onUpdate: id => todos[id].done()\n  }\n}\n```\n\n1. `arrow function` vs `function`\n    1. IE11を意識した場合、変換したら結局 `function` となる\n    1. 読みやすさと生成された後のコードを妄想しつつ相談\n    1. つい書きやすさと `return` の省略したさで `arrow function` を使うことも多い\n    1. 読みやすければそれでいい気持ちになってきている\n1. `class` syntaxを避ける\n    1. ライブラリを開発しているときには使うけれどプロダクトを書く時には意識する\n    1. 結局 `this` に状態を持たせる意味がそのclassにあるかが大事\n    1. ファイルサイズがデカくなる\n\n```js\nvar touch = 'touch'\n$('#id').on(`${touch}start ${touch}end`, e => {\n  console.log(e)\n})\n\nfunction a (element) {\n  // var element と書く３文字を省略して１文字にできる\n  element = document.getElementById('foo')\n  element.addEventListener('click', e => console.log(e))\n}\n```\n\n1. 長い文字列は変数で受けて結合する\n    1. 小さいことを売りにしているライブラリで見る\n    1. 計算量も大事だが地道なファイルサイズ対策\n1. 無駄な引数を定義する\n    1. 変数定義分の文字列を節約させる\n    1. htmlのタグなどを書く際に利用されている場合がある\n    1. linterで積極的に使うなと怒られる（怒られる方が平和）\n\n## まとめ\n\n圧倒的老害感。\n\n![image](http://4.bp.blogspot.com/-foiW8aYeL6s/VzZu-o6sxnI/AAAAAAAA6oQ/LHXzT0WsAX8LtB_U-msHk572kC_rY3VawCLcB/s800/mental_health_man.png)\n"}