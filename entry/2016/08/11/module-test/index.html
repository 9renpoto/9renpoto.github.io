<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head"/><title class="next-head">:-) TypeScript with power-assert</title><link rel="stylesheet" href="/static/bundle.css" class="next-head"/><link rel="preload" href="/_next/143748f6-a410-4e30-a0ab-6bc5ecc85e6c/page/post.js" as="script"/><link rel="preload" href="/_next/143748f6-a410-4e30-a0ab-6bc5ecc85e6c/page/_error.js" as="script"/><link rel="preload" href="/_next/a29955c6e091614d117bee027c76d2ce/app.js" as="script"/></head><body><div><div id="__next"><div data-reactroot=""><header class="navbar"><div class="navbar-brand"><a class="navbar-item" href="/">:-)</a><div class="navbar-burger burger" data-target="navMenu"><span></span><span></span><span></span></div></div><div class="navbar-menu" id="navMenu"><div class="navbar-end"></div></div></header><section class="hero is-primary"><div class="hero-body"><div class="container"><h1 class="title">TypeScript with power-assert</h1></div></div></section><section class="section"><div class="container is-fluid"><div class="content"><div><h1>TypeScriptでpower-assertを使いたい</h1>
<p><a href="https://9renpoto.github.io/entry/2016/06/23/typescript-module-test/">TypeScript テストについて</a> 少し調べました。</p>
<ul>
<li><a href="https://github.com/9renpoto/ts/pull/31">https://github.com/9renpoto/ts/pull/31</a></li>
</ul>
<h2>原因</h2>
<ul>
<li>
<p>TypeScriptがファイルパスを相対パスか絶対パスのどちらかで返す場合がある</p>
<ul>
<li><a href="https://github.com/Microsoft/TypeScript/blob/204f2c16c0d6ff851e4798c03a9646b625ac2bd7/src/compiler/core.ts#L821-L825">https://github.com/Microsoft/TypeScript/blob/204f2c16c0d6ff851e4798c03a9646b625ac2bd7/src/compiler/core.ts#L821-L825</a></li>
</ul>
</li>
</ul>
<h2>対策</h2>
<ul>
<li><a href="https://github.com/teppeis/typescript-simple/pull/47">https://github.com/teppeis/typescript-simple/pull/47</a></li>
</ul>
<h2>悩み</h2>
<ul>
<li><code>rootDir</code>, <code>outDir</code> の組み合わせで挙動が変わることを理解する必要がある</li>
<li><code>rootDirs</code> が入る（TypeScript 2.0~)</li>
</ul></div></div></div></section></div></div><div id="__next-error"></div></div><div><script>
          __NEXT_DATA__ = {"props":{"post":{"data":{"date":"2016-08-11T12:43:32.000Z","permalink":"/entry/2016/08/11/module-test/","title":"TypeScript with power-assert","page":"post","_entry":"posts/ts/2016-08-11-module-test.md","name":"module-test","category":"ts","url":"/entry/2016/08/11/module-test/"},"content":"\n# TypeScriptでpower-assertを使いたい\n\n[TypeScript テストについて](https://9renpoto.github.io/entry/2016/06/23/typescript-module-test/) 少し調べました。\n\n* \u003chttps://github.com/9renpoto/ts/pull/31\u003e\n\n## 原因\n\n* TypeScriptがファイルパスを相対パスか絶対パスのどちらかで返す場合がある\n  * \u003chttps://github.com/Microsoft/TypeScript/blob/204f2c16c0d6ff851e4798c03a9646b625ac2bd7/src/compiler/core.ts#L821-L825\u003e\n\n## 対策\n\n* \u003chttps://github.com/teppeis/typescript-simple/pull/47\u003e\n\n## 悩み\n\n* `rootDir`, `outDir` の組み合わせで挙動が変わることを理解する必要がある\n* `rootDirs` が入る（TypeScript 2.0~)\n"}},"pathname":"/post","query":{"_entry":"posts/ts/2016-08-11-module-test.md"},"buildId":"143748f6-a410-4e30-a0ab-6bc5ecc85e6c","buildStats":{"app.js":{"hash":"a29955c6e091614d117bee027c76d2ce"}},"assetPrefix":"","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }
        </script><script async="" id="__NEXT_PAGE__/post" type="text/javascript" src="/_next/143748f6-a410-4e30-a0ab-6bc5ecc85e6c/page/post.js"></script><script async="" id="__NEXT_PAGE__/_error" type="text/javascript" src="/_next/143748f6-a410-4e30-a0ab-6bc5ecc85e6c/page/_error.js"></script><div></div><script type="text/javascript" src="/_next/a29955c6e091614d117bee027c76d2ce/app.js" async=""></script></div></body></html>