<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head"/><title class="next-head">:-) アクティブでなさそうなSlackチャンネルをArchiveお願いする</title><link rel="stylesheet" href="/static/bundle.css" class="next-head"/><link rel="preload" href="/_next/cee85a16-ca8c-4c1a-8698-0af117f45a6f/page/post.js" as="script"/><link rel="preload" href="/_next/cee85a16-ca8c-4c1a-8698-0af117f45a6f/page/_error.js" as="script"/><link rel="preload" href="/_next/a9e7f47f8ed231bc3f78af5865bf4859/app.js" as="script"/></head><body><div><div id="__next"><div data-reactroot=""><div><header class="navbar"><div class="navbar-brand"><a class="navbar-item" href="/">:-)</a><div class="navbar-burger burger" data-target="navMenu"><span></span><span></span><span></span></div></div><div class="navbar-menu" id="navMenu"><div class="navbar-end"><a class="navbar-item" href="https://9renpoto.github.io/entry/tags/">tags</a><a class="navbar-item" href="https://9renpoto.github.io/entry/profile/">profile</a></div></div></header><section class="hero is-primary"><div class="hero-body"><div class="container"><h1 class="title">アクティブでなさそうなSlackチャンネルをArchiveお願いする</h1></div></div></section><section class="section"><div class="container is-fluid"><div class="content"><div><h1>slack-channel-active-reminder</h1>
<p>書いたもの： <a href="https://github.com/9renpoto/slack-channel-active-reminder">https://github.com/9renpoto/slack-channel-active-reminder</a></p>
<p><img src="./slack-channel-active-reminder.png" alt="image"/></p>
<p>slackの部屋は便利に増やしていけますが、
同じような部屋が散乱したり、入ってみたものの活動が薄かったり様々あるので
一定時間発言がない部屋に対してメッセージを送りつけるようなものを書いた。</p>
<h2>Usage</h2>
<p>Cronなどと合わせて仕込んで良いタイミングで発言がなさそうなところに対してメッセージを送る。</p>
<pre><code class="language-javascript">const CronJob = require(&#x27;cron&#x27;).CronJob
const Reminder = require(&#x27;slack-channel-active-reminder&#x27;).default

const reminder = new Reminder()

const job = new CronJob({
  cronTime: &#x27;0 00 18 * * 1-5&#x27;,
  onTick: function () {
    reminder.postRemindMessage()
  },
  start: false,
  timeZone: &#x27;Asia/Tokyo&#x27;
})
job.start()
</code></pre>
<p>中身は <code>@slack/client</code> を使っているだけ。
便利なAPIが多いと助かる。</p>
<h2>追記</h2>
<p><a href="https://github.com/9renpoto/slack-channel-active-reminder/pull/9">https://github.com/9renpoto/slack-channel-active-reminder/pull/9</a></p>
<p><code>flow gen-flow-files</code> が良いものをだしてくれないため外す。
早く1.0が待ち遠しい。</p></div></div></div></section></div></div></div><div id="__next-error"></div></div><div><script>
          __NEXT_DATA__ = {"props":{"post":{"data":{"date":"2017-05-14T13:39:17.000Z","permalink":"/entry/2017/05/14/slack-channel-active-reminder/","title":"アクティブでなさそうなSlackチャンネルをArchiveお願いする","categories":["slack","javascript"],"page":"post","_entry":"posts/2017-05-14-slack-channel-active-reminder/index.md","name":"index","category":"2017-05-14-slack-channel-active-reminder","url":"/entry/2017/05/14/slack-channel-active-reminder/"},"content":"# slack-channel-active-reminder\n\n書いたもの： \u003chttps://github.com/9renpoto/slack-channel-active-reminder\u003e\n\n![image](./slack-channel-active-reminder.png)\n\nslackの部屋は便利に増やしていけますが、\n同じような部屋が散乱したり、入ってみたものの活動が薄かったり様々あるので\n一定時間発言がない部屋に対してメッセージを送りつけるようなものを書いた。\n\n## Usage\n\nCronなどと合わせて仕込んで良いタイミングで発言がなさそうなところに対してメッセージを送る。\n\n```javascript\nconst CronJob = require('cron').CronJob\nconst Reminder = require('slack-channel-active-reminder').default\n\nconst reminder = new Reminder()\n\nconst job = new CronJob({\n  cronTime: '0 00 18 * * 1-5',\n  onTick: function () {\n    reminder.postRemindMessage()\n  },\n  start: false,\n  timeZone: 'Asia/Tokyo'\n})\njob.start()\n```\n\n中身は `@slack/client` を使っているだけ。\n便利なAPIが多いと助かる。\n\n## 追記\n\n\u003chttps://github.com/9renpoto/slack-channel-active-reminder/pull/9\u003e\n\n`flow gen-flow-files` が良いものをだしてくれないため外す。\n早く1.0が待ち遠しい。\n"}},"pathname":"/post","query":{"_entry":"posts/2017-05-14-slack-channel-active-reminder/index.md"},"buildId":"cee85a16-ca8c-4c1a-8698-0af117f45a6f","buildStats":{"app.js":{"hash":"a9e7f47f8ed231bc3f78af5865bf4859"}},"assetPrefix":"","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }
        </script><script async="" id="__NEXT_PAGE__/post" type="text/javascript" src="/_next/cee85a16-ca8c-4c1a-8698-0af117f45a6f/page/post.js"></script><script async="" id="__NEXT_PAGE__/_error" type="text/javascript" src="/_next/cee85a16-ca8c-4c1a-8698-0af117f45a6f/page/_error.js"></script><div></div><script type="text/javascript" src="/_next/a9e7f47f8ed231bc3f78af5865bf4859/app.js" async=""></script></div></body></html>