<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head"/><title class="next-head">:-) #hcj-2014</title><link rel="stylesheet" href="/static/bundle.css" class="next-head"/><link rel="preload" href="/_next/2cecd2d1-9727-4c92-9c63-1e943c643a93/page/post.js" as="script"/><link rel="preload" href="/_next/2cecd2d1-9727-4c92-9c63-1e943c643a93/page/_error.js" as="script"/><link rel="preload" href="/_next/73aa131f3e7684e972db9f501e1e1aaf/app.js" as="script"/></head><body><div><div id="__next"><div data-reactroot=""><header class="navbar"><div class="navbar-brand"><a class="navbar-item" href="/">:-)</a><div class="navbar-burger burger" data-target="navMenu"><span></span><span></span><span></span></div></div><div class="navbar-menu" id="navMenu"><div class="navbar-end"></div></div></header><section class="hero is-primary"><div class="hero-body"><div class="container"><h1 class="title">#hcj-2014</h1></div></div></section><section class="section"><div class="container is-fluid"><div class="content"><div><h1>Hadoop Conference Japan 2014に参加してきました</h1>
<p>個人的な所感としては。</p>
<ul>
<li>spark楽しそう（だけどまだ触るには勇気が）</li>
<li>Prestoも熱そう</li>
<li>MapR書くよりもSQL書く方がお手軽</li>
</ul>
<p>以下はメモ書き。</p>
<h2>keynote</h2>
<h3>hadoopを取り巻く環境について</h3>
<ul>
<li>
<p>始めて普及した並列分散</p>
<ul>
<li>
<p>データの読み込みのスループットを最大化</p>
<ul>
<li>全件データの処理を実現</li>
</ul>
</li>
<li>シンプルなモデル（MapReduce)</li>
<li>
<p>YARN</p>
<ul>
<li>MapReduceからそれ以外のアルゴリズムも</li>
<li>複数の並列分散エンジンを併用できる環境</li>
<li>
<p>メモリーの大容量化、10Gbpsネットワークの普及</p>
<ul>
<li>インメモリー処理の実現性の向上</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>The Future of Data</h3>
<p>Doug Cutting</p>
<ul>
<li>
<p>未来について</p>
<ul>
<li>ハードウェアの価格の低下、性能の向上</li>
<li>データの重要性の向上</li>
<li>オープンソースが勝ち残る</li>
</ul>
</li>
</ul>
<h3>The Future of spark</h3>
<p>Patric Wendlell</p>
<ul>
<li>
<p>Sparkの目的</p>
<ul>
<li>データサイエンティスト、エンジニア能力の拡張</li>
<li>表現力のあるクリーンなAPIの提供</li>
<li>多様な環境にわたって統合されたランタイム</li>
</ul>
</li>
<li>
<p>API　stability</p>
<ul>
<li>3か月サイクルでマイナーリリース</li>
<li>必要におおじてメンテナンスリリース</li>
</ul>
</li>
<li>Spark SQL</li>
<li>
<p>MLlib</p>
<ul>
<li>Spark + R</li>
</ul>
</li>
<li>DataBricks</li>
</ul>
<h3>Hadoopエコシステムの片鱗と見えてきた使いドコロ</h3>
<ul>
<li>
<p>TreasureData</p>
<ul>
<li>
<p>なぜHadoop使うのか</p>
<ul>
<li>
<p>Hadoopを使うのは最適な解か</p>
<ul>
<li>安いストレージとして使うだけならHadoopより良い物は沢山ある</li>
</ul>
</li>
<li>
<p>データの収集ソフトウェア</p>
<ul>
<li>多種多様なデータ・ソース</li>
<li>fluentd,flumea,kafka,sqoop</li>
</ul>
</li>
<li>
<p>ファイルフォーマット</p>
<ul>
<li>Schema on Read</li>
</ul>
</li>
<li>管理・人的コスト低減の支援</li>
<li>
<p>簡単にデータを扱うか</p>
<ul>
<li>Tez, Spark</li>
</ul>
</li>
<li>
<p>SQL on Hadoop</p>
<ul>
<li>Impala, SlarkSQL, Presto Drill</li>
<li>Mahout, Spark MLlib</li>
</ul>
</li>
<li>
<p>今までの時代</p>
<ul>
<li>データを入れるだけ入れたけど、レポート化できる人の限られている</li>
<li>今までは何でも入れられるだけ</li>
<li>これからはだれでも取り出せるようにしないと意味がない</li>
</ul>
</li>
<li>
<p>Hadoop -&gt; MPP</p>
<ul>
<li>Twitter: Hadoop -&gt; Vertica</li>
<li>Pinterest: Hadoop -&gt; redshift</li>
</ul>
</li>
<li>非構造化データの領域に踏み込む</li>
<li>混沌の時代</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>セッション</h2>
<h3>マルチテナント化に向けたHadoopの最新セキュリティー事情</h3>
<ul>
<li>
<p>Hadoopのユースケースの移り変わり</p>
<ul>
<li>
<p>バッチ処理を効率よく行うため</p>
<ul>
<li>部門単位での利用、クラスターの乱立</li>
</ul>
</li>
<li>
<p>近年</p>
<ul>
<li>バッチ処理 + インタラクティブな処理</li>
<li>SQLによるアクセス</li>
</ul>
</li>
<li>
<p>データは一部の人だけのものではない</p>
<ul>
<li>クラスターの共有（マルチテナント）</li>
</ul>
</li>
<li>
<p>マルチテナントのメリット</p>
<ul>
<li>データの複製不要</li>
<li>業務の取り巻き</li>
<li>性能・効率の改善</li>
</ul>
</li>
<li>
<p>課題
　- リソースの分離と管理</p>
<ul>
<li>Role管理</li>
</ul>
</li>
</ul>
</li>
<li>
<p>マルチテナントとセキュリティーの関連性</p>
<ul>
<li>
<p>認証</p>
<ul>
<li>
<p>kerberos</p>
<ul>
<li>相手が何者であるかを保証するプロトコル</li>
<li>暗号化</li>
</ul>
</li>
</ul>
</li>
<li>
<p>認可</p>
<ul>
<li>
<p>HDFS ACL</p>
<ul>
<li>ファイルシステムレベルでのaccess control</li>
</ul>
</li>
<li>
<p>Apache Sentry</p>
<ul>
<li>データベース、テーブルview、行列の粒度でアクセス制御</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>認可モジュールSentryの紹介</p>
<ul>
<li>Apache Sentryはモジュールとして開発されている</li>
</ul>
</li>
</ul>
<h3>BigQuery and the world after MapReduce</h3>
<ul>
<li>
<p>BigData at Google</p>
<ul>
<li>ログ分析するのにMapReduceを書いてる場合じゃない</li>
<li>
<p>BigQuery ( sql base )</p>
<ul>
<li>indexなんてないんや</li>
</ul>
</li>
<li>全文検索、120億行、10秒ぐらい</li>
<li>storage料金</li>
<li>Quesy料金</li>
</ul>
</li>
<li>
<p>Column Oriented Storage</p>
<ul>
<li>もはやスタンダード</li>
</ul>
</li>
<li>
<p>Colossus File System</p>
<ul>
<li>GFSの次のもの</li>
</ul>
</li>
<li>
<p>MPP</p>
<ul>
<li>1TBの内容を数秒で舐めるためには何台必要なのか</li>
</ul>
</li>
<li>
<p>JOIN</p>
<ul>
<li>small join</li>
<li>
<p>broadcast JOIN</p>
<ul>
<li>ばらまいてコピー =&gt; JOIN</li>
</ul>
</li>
<li>
<p>JOIN Each</p>
<ul>
<li>shuffleしてjoinできる</li>
</ul>
</li>
</ul>
</li>
<li>
<p>BigQuery Streaming</p>
<ul>
<li>fluentd</li>
<li>fluent-plugin-bigquery</li>
</ul>
</li>
<li>
<p>BigQuery User-Defined-Function-with-JavaScript</p>
<ul>
<li>クエリ内にJavaScript書く</li>
</ul>
</li>
<li>Cloud Pub/Sub</li>
<li>
<p>FlumeJava</p>
<ul>
<li><a href="http://pages.cs.wisc.edu/~akella/CS838/F12/838-CloudPapers/FlumeJava.pdf">論文あるよ!</a></li>
</ul>
</li>
<li>
<p>MillWheel</p>
<ul>
<li><a href="http://static.googleusercontent.com/media/research.google.com/ja//pubs/archive/41378.pdf">論文あるよ!</a></li>
</ul>
</li>
</ul>
<h3>SQLによるバッチ処理とストリーム処理</h3>
<ul>
<li>
<p>@tagomoris</p>
<ul>
<li>
<p>stream処理</p>
<ul>
<li>norikra</li>
</ul>
</li>
<li>
<p>Hadoop</p>
<ul>
<li>Hive/ Presto</li>
</ul>
</li>
<li>
<p>SQL is NOT the best;</p>
<ul>
<li>But, SQL is better than NONE.</li>
</ul>
</li>
<li>
<p>Batch processing</p>
<ul>
<li>hive</li>
</ul>
</li>
<li>
<p>Stream processing</p>
<ul>
<li>storm</li>
<li>kafka</li>
<li>esper</li>
<li>norikra</li>
<li>fluentd</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Lamda Architecture</p>
<ul>
<li>
<p>Streaming</p>
<ul>
<li>速報値</li>
</ul>
</li>
<li>
<p>Batch</p>
<ul>
<li>確定値</li>
</ul>
</li>
<li>両方に対応したい</li>
</ul>
</li>
<li>
<p>Stream処理</p>
<ul>
<li>レイテンシが低い</li>
<li>同じ処理をバッチとしても実行できる必要がある</li>
</ul>
</li>
</ul>
<h3>YARN</h3>
<ul>
<li>
<p>TD</p>
<ul>
<li>
<p>PlazumaDB</p>
<ul>
<li>S3上で動作</li>
<li>HDFS is not used</li>
</ul>
</li>
<li>
<p>Hadoop Cluster</p>
<ul>
<li>Customize hadoop</li>
<li>Customize hive</li>
<li>Customize Pig</li>
</ul>
</li>
<li>
<p>PlazumaDB</p>
<ul>
<li>Customize Impala</li>
<li>Customize Presto</li>
</ul>
</li>
<li>独自queue</li>
<li>独自scheduler</li>
<li>
<p>YARN cluster</p>
<ul>
<li>プロダクションにはまだ入れてないが
環境整えている</li>
</ul>
</li>
</ul>
</li>
<li>
<p>YARNとは</p>
<ul>
<li>
<p>Job History Server注意</p>
<ul>
<li>起動してないと過去ログが追えなくなる</li>
</ul>
</li>
<li>
<p>NOTE</p>
<ul>
<li>
<p>Use the Hadoop 2.4.0 and later</p>
<ul>
<li>Capacity Scheduler、there is a bug</li>
<li>deadlock</li>
</ul>
</li>
<li>hadoop-conf-pseudo doees not work</li>
<li>
<p>2.2.0 and 2.4.0</p>
<ul>
<li>結構違うので注意</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Presto</h3>
<ul>
<li>
<p>what is Presto</p>
<ul>
<li>Facebookで作られてoss化</li>
<li>
<p>HDFS上のデータを可視化したい</p>
<ul>
<li>うまくいかない</li>
<li>hiveが遅すぎる</li>
</ul>
</li>
<li>
<p>hiveをバッチ化 =&gt; 中間DBに入れる</p>
<ul>
<li>中間DBはスケールしない</li>
</ul>
</li>
<li>HDFSに保存してないものは入れなきゃならない</li>
</ul>
</li>
<li>
<p>Presto</p>
<ul>
<li>中間データベースの取り除く有効な手段</li>
<li>他のデータストアを舐めることにも対応</li>
<li>
<p>Hiveとの使い分けが必要</p>
<ul>
<li>巨大なjoin</li>
<li>group by</li>
</ul>
</li>
<li>Interactiveなクエリを発行できる</li>
<li>複数のデータ・セットをまとめて表示できる</li>
</ul>
</li>
<li>
<p>BI tools</p>
<ul>
<li>可視化に利用していく</li>
<li><code>ODBC/JDBC is very complicated!</code></li>
</ul>
</li>
<li>
<p>Prestoの実行モデルについて</p>
<ul>
<li>not MapReduce</li>
<li>
<p>全部並行で動いてる</p>
<ul>
<li>一個死んだら全部死ぬ</li>
<li>メモリー溢れてしまうとクエリが死んでしまう</li>
</ul>
</li>
<li>
<p>メモリーの使用量はクラスターで管理されて、クラスターが死ぬことはない（はず）</p>
<ul>
<li>がクエリは死ぬ</li>
</ul>
</li>
</ul>
</li>
</ul></div></div></div></section></div></div><div id="__next-error"></div></div><div><script>
          __NEXT_DATA__ = {"props":{"post":{"data":{"title":"#hcj-2014","date":"2014-07-08T00:00:00.000Z","permalink":"/entry/2014/07/08/hcj/","categories":["hadoop"],"page":"post","_entry":"posts/2014-07-08-hcj/index.md","name":"index","category":"2014-07-08-hcj","url":"/entry/2014/07/08/hcj/"},"content":"# Hadoop Conference Japan 2014に参加してきました\n\n個人的な所感としては。\n\n- spark楽しそう（だけどまだ触るには勇気が）\n- Prestoも熱そう\n- MapR書くよりもSQL書く方がお手軽\n\n以下はメモ書き。\n\n## keynote\n\n### hadoopを取り巻く環境について\n\n- 始めて普及した並列分散\n  - データの読み込みのスループットを最大化\n    - 全件データの処理を実現\n  - シンプルなモデル（MapReduce)\n  - YARN\n    - MapReduceからそれ以外のアルゴリズムも\n    - 複数の並列分散エンジンを併用できる環境\n    - メモリーの大容量化、10Gbpsネットワークの普及\n      - インメモリー処理の実現性の向上\n\n### The Future of Data\n\nDoug Cutting\n\n- 未来について\n  - ハードウェアの価格の低下、性能の向上\n  - データの重要性の向上\n  - オープンソースが勝ち残る\n\n### The Future of spark\n\nPatric Wendlell\n\n- Sparkの目的\n  - データサイエンティスト、エンジニア能力の拡張\n  - 表現力のあるクリーンなAPIの提供\n  - 多様な環境にわたって統合されたランタイム\n- API　stability\n  - 3か月サイクルでマイナーリリース\n  - 必要におおじてメンテナンスリリース\n- Spark SQL\n- MLlib\n  - Spark + R\n- DataBricks\n\n### Hadoopエコシステムの片鱗と見えてきた使いドコロ\n\n- TreasureData\n  - なぜHadoop使うのか\n    - Hadoopを使うのは最適な解か\n      - 安いストレージとして使うだけならHadoopより良い物は沢山ある\n    - データの収集ソフトウェア\n      - 多種多様なデータ・ソース\n      - fluentd,flumea,kafka,sqoop\n    - ファイルフォーマット\n      - Schema on Read\n    - 管理・人的コスト低減の支援\n    - 簡単にデータを扱うか\n      - Tez, Spark\n    - SQL on Hadoop\n      - Impala, SlarkSQL, Presto Drill\n      - Mahout, Spark MLlib\n    - 今までの時代\n      - データを入れるだけ入れたけど、レポート化できる人の限られている\n      - 今までは何でも入れられるだけ\n      - これからはだれでも取り出せるようにしないと意味がない\n    - Hadoop -\u003e MPP\n      - Twitter: Hadoop -\u003e Vertica\n      - Pinterest: Hadoop -\u003e redshift\n    - 非構造化データの領域に踏み込む\n    - 混沌の時代\n\n## セッション\n\n### マルチテナント化に向けたHadoopの最新セキュリティー事情\n\n- Hadoopのユースケースの移り変わり\n  - バッチ処理を効率よく行うため\n    - 部門単位での利用、クラスターの乱立\n  - 近年\n    - バッチ処理 + インタラクティブな処理\n    - SQLによるアクセス\n  - データは一部の人だけのものではない\n    - クラスターの共有（マルチテナント）\n  - マルチテナントのメリット\n    - データの複製不要\n    - 業務の取り巻き\n    - 性能・効率の改善\n  - 課題\n  　- リソースの分離と管理\n    - Role管理\n- マルチテナントとセキュリティーの関連性\n  - 認証\n    - kerberos\n      - 相手が何者であるかを保証するプロトコル\n      - 暗号化\n  - 認可\n    - HDFS ACL\n      - ファイルシステムレベルでのaccess control\n    - Apache Sentry\n      - データベース、テーブルview、行列の粒度でアクセス制御\n- 認可モジュールSentryの紹介\n  - Apache Sentryはモジュールとして開発されている\n\n### BigQuery and the world after MapReduce\n\n- BigData at Google\n  - ログ分析するのにMapReduceを書いてる場合じゃない\n  - BigQuery ( sql base )\n    - indexなんてないんや\n  - 全文検索、120億行、10秒ぐらい\n  - storage料金\n  - Quesy料金\n- Column Oriented Storage\n  - もはやスタンダード\n- Colossus File System\n  - GFSの次のもの\n- MPP\n  - 1TBの内容を数秒で舐めるためには何台必要なのか\n- JOIN\n  - small join\n  - broadcast JOIN\n    - ばらまいてコピー =\u003e JOIN\n  - JOIN Each\n    - shuffleしてjoinできる\n- BigQuery Streaming\n  - fluentd\n  - fluent-plugin-bigquery\n- BigQuery User-Defined-Function-with-JavaScript\n  - クエリ内にJavaScript書く\n- Cloud Pub/Sub\n- FlumeJava\n  - [論文あるよ!](http://pages.cs.wisc.edu/~akella/CS838/F12/838-CloudPapers/FlumeJava.pdf)\n- MillWheel\n  - [論文あるよ!](http://static.googleusercontent.com/media/research.google.com/ja//pubs/archive/41378.pdf)\n\n### SQLによるバッチ処理とストリーム処理\n\n- @tagomoris\n  - stream処理\n    - norikra\n  - Hadoop\n    - Hive/ Presto\n  - SQL is NOT the best;\n    - But, SQL is better than NONE.\n  - Batch processing\n    - hive\n  - Stream processing\n    - storm\n    - kafka\n    - esper\n    - norikra\n    - fluentd\n- Lamda Architecture\n  - Streaming\n    - 速報値\n  - Batch\n    - 確定値\n  - 両方に対応したい\n- Stream処理\n  - レイテンシが低い\n  - 同じ処理をバッチとしても実行できる必要がある\n\n### YARN\n\n- TD\n  - PlazumaDB\n    - S3上で動作\n    - HDFS is not used\n  - Hadoop Cluster\n    - Customize hadoop\n    - Customize hive\n    - Customize Pig\n  - PlazumaDB\n    - Customize Impala\n    - Customize Presto\n  - 独自queue\n  - 独自scheduler\n  - YARN cluster\n    - プロダクションにはまだ入れてないが\n      環境整えている\n- YARNとは\n  - Job History Server注意\n    - 起動してないと過去ログが追えなくなる\n  - NOTE\n    - Use the Hadoop 2.4.0 and later\n      - Capacity Scheduler、there is a bug\n      - deadlock\n    - hadoop-conf-pseudo doees not work\n    - 2.2.0 and 2.4.0\n      - 結構違うので注意\n\n### Presto\n\n- what is Presto\n  - Facebookで作られてoss化\n  - HDFS上のデータを可視化したい\n    - うまくいかない\n    - hiveが遅すぎる\n  - hiveをバッチ化 =\u003e 中間DBに入れる\n    - 中間DBはスケールしない\n  - HDFSに保存してないものは入れなきゃならない\n- Presto\n  - 中間データベースの取り除く有効な手段\n  - 他のデータストアを舐めることにも対応\n  - Hiveとの使い分けが必要\n    - 巨大なjoin\n    - group by\n  - Interactiveなクエリを発行できる\n  - 複数のデータ・セットをまとめて表示できる\n- BI tools\n  - 可視化に利用していく\n  - `ODBC/JDBC is very complicated!`\n- Prestoの実行モデルについて\n  - not MapReduce\n  - 全部並行で動いてる\n    - 一個死んだら全部死ぬ\n    - メモリー溢れてしまうとクエリが死んでしまう\n  - メモリーの使用量はクラスターで管理されて、クラスターが死ぬことはない（はず）\n    - がクエリは死ぬ\n"}},"pathname":"/post","query":{"_entry":"posts/2014-07-08-hcj/index.md"},"buildId":"2cecd2d1-9727-4c92-9c63-1e943c643a93","buildStats":{"app.js":{"hash":"73aa131f3e7684e972db9f501e1e1aaf"}},"assetPrefix":"","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }
        </script><script async="" id="__NEXT_PAGE__/post" type="text/javascript" src="/_next/2cecd2d1-9727-4c92-9c63-1e943c643a93/page/post.js"></script><script async="" id="__NEXT_PAGE__/_error" type="text/javascript" src="/_next/2cecd2d1-9727-4c92-9c63-1e943c643a93/page/_error.js"></script><div></div><script type="text/javascript" src="/_next/73aa131f3e7684e972db9f501e1e1aaf/app.js" async=""></script></div></body></html>