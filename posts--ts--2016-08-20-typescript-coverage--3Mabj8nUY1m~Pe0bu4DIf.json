{"data":{"date":"2016-08-20T05:28:25.000Z","permalink":"/entry/2016/08/20/typescript-coverage/","title":"TypeScript で coverage を計測する","category":"js","_entry":"posts/ts/2016-08-20-typescript-coverage.md","page":"post","name":"typescript-coverage","url":"/entry/2016/08/20/typescript-coverage/"},"content":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"TypeScriptでCoverage reportを計測する"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"TL;DR"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.npmjs.com/package/remap-istanbul"},"children":[{"type":"text","value":"remap-istanbul"}]},{"type":"text","value":" を使う"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Usage"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install remap-istanbul"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sourcemap: true"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Memo"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tsc"}]},{"type":"text","value":" > "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm test"}]},{"type":"text","value":" という流れになったためJavaScriptとしてテストをする形になる"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.npmjs.com/package/espower-typescript"},"children":[{"type":"text","value":"espower-typescript"}]},{"type":"text","value":" を使わないようになる"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"espower-typescript"}]},{"type":"text","value":" はtscのwrapperなのでtscする場合は使えなそう"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"power-assert"}]},{"type":"text","value":" が上手く構造を解釈してくれてなさそう"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"espower-typescript"}]},{"type":"text","value":" が担っていた役割を別で与える必要がある"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"TypeScriptに依存するなら無駄にbabel pluginなどは使いたくない"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"TODO考える"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Refs"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://blog.syati.info/post/typescript_coverage/"},"children":[{"type":"text","value":"http://blog.syati.info/post/typescript_coverage/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/9renpoto/ts/pull/34"},"children":[{"type":"text","value":"https://github.com/9renpoto/ts/pull/34"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"raw":"\n# TypeScriptでCoverage reportを計測する\n\n## TL;DR\n\n- [remap-istanbul](https://www.npmjs.com/package/remap-istanbul) を使う\n\n## Usage\n\n- `npm install remap-istanbul`\n- `sourcemap: true`\n\n## Memo\n\n- `tsc` > `npm test` という流れになったためJavaScriptとしてテストをする形になる\n- [espower-typescript](https://www.npmjs.com/package/espower-typescript) を使わないようになる\n  - `espower-typescript` はtscのwrapperなのでtscする場合は使えなそう\n- `power-assert` が上手く構造を解釈してくれてなさそう\n  - `espower-typescript` が担っていた役割を別で与える必要がある\n  - TypeScriptに依存するなら無駄にbabel pluginなどは使いたくない\n    - TODO考える\n\n## Refs\n\n- <http://blog.syati.info/post/typescript_coverage/>\n- <https://github.com/9renpoto/ts/pull/34>\n"}